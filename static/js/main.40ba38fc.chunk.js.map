{"version":3,"sources":["components/ContactTypeLegend.js","components/RangeLegend.js","components/BoundarySelector.js","components/Legend.js","components/FacilityCard.js","components/SimpleBarChart.js","components/Details.js","Layers.js","hooks/useBoundaryLayers.js","hooks/useFacilitiesLayer.js","hooks/useFacilities.js","pages/MainPage.js","hooks/useMap.js","hooks/useGeoJSONLayer.js","App.js","serviceWorker.js","index.js"],"names":["ContactTypeLegend","className","icon","faCircle","style","color","RangeLegend","name","min","max","colStart","colEnd","gradient","console","log","background","BoundarySelector","boundaries","selectedBoundary","onSelect","options","Object","entries","map","value","label","datasetName","onChange","a","placeholder","Legend","onSelectBoundary","showFacilities","onShowFacilitiesChange","onSelectMetric","metric","type","checked","e","target","FacilityCard","facility","facname","address","boro","city","zipcode","factype","capacity","SimpleBarChart","data","title","norm","sortedData","sort","b","total","reduce","t","d","Math","datum","Fragment","backgroundColor","width","toPrecision","Details","feature","facilities","onSelectFacility","useState","setShowFacilities","properties","GEOID","onClick","f","TotPopACS17","MRR2010","strategy_code","contactStrategy","WhiteAloneOrCombo","BlackAloneOrCombo","AsianAloneOrCombo","Hispanic","col","makeLEP","makeInternetData","fillStyles","strategy","returnCount","HTCLayer","url","process","paintFill","paintLine","useBoundaryLayers","selectedLayer","layers","setLayers","useEffect","current","layerList","on","id","nameCol","nameAlt","layer","forEach","sourceName","layerDeets","source","addSource","fillLayer","addLayer","paint","lineLayer","layout","visibility","setLayoutProperty","useFacilitiesLayer","visible","setFacilities","fetch","then","json","useFacilities","loadImage","error","image","addImage","loaded","MainPage","mapDiv","useRef","setSelectedBoundary","selectedFeature","setSelectedFeature","setHardToCountStats","setMetric","Papa","parse","download","header","complete","results","mapDivRef","lnglat","zoom","key","mapboxgl","accessToken","Map","container","center","useMap","Layers","boundaryLayers","sourceLayer","selection","source_name","oldSelectionID","features","setFeatureState","selected","setPaintProperty","useGeoJSONLayer","tractFacilities","censusTractID","useMemo","filter","useCensusTractFacilities","ref","App","basename","path","component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.40ba38fc.chunk.js","sourcesContent":["import React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faCircle} from '@fortawesome/free-solid-svg-icons';\n\nexport default function ContactTypeLegend() {\n  return (\n    <section className=\"contact-type\">\n      <ul>\n        <li className=\"category-entry\">\n          <FontAwesomeIcon icon={faCircle} style={{color: '#C2A5CF'}} />{' '}\n          Internet First, English\n        </li>\n        <li className=\"category-entry\">\n          <FontAwesomeIcon icon={faCircle} style={{color: '#9970AB'}} />{' '}\n          Internet First, Bilingual\n        </li>\n        <li className=\"category-entry\">\n          <FontAwesomeIcon icon={faCircle} style={{color: '#A6DBA0'}} />{' '}\n          Internet Choice, English\n        </li>\n        <li className=\"category-entry\">\n          <FontAwesomeIcon icon={faCircle} style={{color: '#5AAE61'}} />{' '}\n          Internet Choice, Bilingual\n        </li>\n      </ul>\n    </section>\n  );\n}\n","import React from 'react';\n\nexport default function RangeLegend({name, min, max, colStart, colEnd}) {\n  const gradient = `linear-gradient(90deg, ${colStart} 0%, ${colEnd} 100%)`;\n\n  console.log('gradient is ', gradient);\n  return (\n    <div className=\"range-legend\">\n      <div\n        className=\"range-legend-bar\"\n        style={{\n          background: gradient,\n        }}\n      />\n      <div className=\"range-legend-labels\">\n        <p>{min}</p> <p>{max}</p>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\n\nexport default function BoundarySelector({\n  boundaries,\n  selectedBoundary,\n  onSelect,\n}) {\n  return (\n    <section className=\"boundary-selector\">\n      <h3>Boundaries</h3>\n\n      {boundaries && (\n        <Dropdown\n          options={Object.entries(boundaries).map(([id, layer]) => ({\n            value: id,\n            label: layer.datasetName,\n          }))}\n          onChange={a => onSelect(a.value)}\n          value={selectedBoundary}\n          placeholder=\"Select a boundary\"\n        />\n      )}\n    </section>\n  );\n}\n","import React from 'react';\nimport ContactTypeLegend from './ContactTypeLegend';\nimport RangeLegend from './RangeLegend';\nimport BoundarySelector from './BoundarySelector';\n\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\n\nexport default function Legend({\n  selectedBoundary,\n  boundaries,\n  onSelectBoundary,\n  showFacilities,\n  onShowFacilitiesChange,\n  onSelectMetric,\n  metric,\n}) {\n  return (\n    <div className=\"Legend\">\n      <section className=\"thematic-layer\">\n        <h3>Metric</h3>\n        <Dropdown\n          options={[\n            {value: 'strategy', label: 'Mail Strategy'},\n            {value: 'returnCount', label: '2020 Mail Return Rate'},\n          ]}\n          onChange={a => onSelectMetric(a.value)}\n          value={metric}\n          placeholder=\"Select a metric\"\n        />\n        {metric == 'strategy' ? (\n          <ContactTypeLegend />\n        ) : (\n          <RangeLegend\n            name=\"2020 Mail Return %\"\n            min={0}\n            max={100}\n            colStart=\"#309dae\"\n            colEnd=\"#ebf7f9\"\n          />\n        )}\n        <BoundarySelector\n          selectedBoundary={selectedBoundary}\n          onSelect={onSelectBoundary}\n          boundaries={boundaries}\n        />\n        <div className=\"facilitesToggle\">\n          <p>\n            Show Facilities{' '}\n            <input\n              type=\"checkbox\"\n              checked={showFacilities}\n              onChange={e => onShowFacilitiesChange(e.target.checked)}\n            />\n          </p>\n        </div>\n      </section>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function FacilityCard({facility}) {\n  console.log('facilty', facility);\n  return (\n    <div className=\"card facility\">\n      <h3>{facility.facname}</h3>\n      <p>\n        {facility.address} <br /> {facility.boro} <br /> {facility.city} <br />{' '}\n        {facility.zipcode}\n      </p>\n      <p>{facility.factype} </p>\n      <p>Capacity: {facility.capacity ? facility.capacity : 'Unknown'}</p>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function SimpleBarChart({data, title, norm, style}) {\n  let sortedData = data.sort((a, b) => (a.value < b.value ? 1 : -1));\n  if (norm) {\n    const total = data.reduce((t, d) => t + d.value, 0);\n    sortedData = sortedData.map(a => ({...a, value: a.value / total}));\n  }\n  const max = Math.max(...sortedData.map(d => d.value));\n  const min = Math.min(...sortedData.map(d => d.value));\n\n  return (\n    <div style={style} className=\"simple-bar-chart\">\n      <h3>{title}</h3>\n      <div className=\"bar-chart\">\n        {sortedData.map(datum => (\n          <React.Fragment>\n            <span>{datum.label} </span>\n            <span\n              className=\"bar\"\n              style={{\n                backgroundColor: 'blue',\n                width: `${((datum.value - min) * 100.0) / (max - min)}%`,\n              }}></span>\n            <span className=\"label\">{datum.value.toPrecision(2)}</span>\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, {useState} from 'react';\nimport {RadialChart} from 'react-vis';\nimport FacilityCard from './FacilityCard';\nimport SimpleBarChart from './SimpleBarChart';\n\nexport default function Details({feature, facilities, onSelectFacility}) {\n  console.log(feature);\n\n  const [showFacilities, setShowFacilities] = useState(false);\n\n  const makeInternetData = feature => {\n    const cols = [\n      'NoInternet',\n      'Internet_NoSub',\n      'Internet',\n      'DialUpOnly',\n      'Broadband_Any',\n      'Cellular',\n      'CellularOnly',\n      'Broadband_CableFiberOpticDSL',\n      'Broadband_CableFiberOpticDSLOnly',\n      'Satellite',\n      'SatelliteOnly',\n      'OtherOnly',\n    ];\n    const data = cols.map(col => ({\n      value: feature.properties[col],\n      label: col,\n    }));\n    return data;\n  };\n  const contactStrategy = feature => {\n    switch (feature.strategy_code) {\n      case 0:\n        return 'Internet First, English';\n      case 1:\n        return 'Internet First, Bilingual';\n      case 2:\n        return 'Internet Choice, English';\n      case 3:\n        return 'Internet Choice, Bilingual';\n    }\n  };\n\n  const makeLEP = feature => {\n    const cols = [\n      'LEPHHs',\n      'LEPspanHHs',\n      'LEPindoeurHHs',\n      'LEPapacHHs',\n      'LEPotherHHs',\n    ];\n    const data = cols.map(col => ({\n      value: feature.properties[col],\n      label: col,\n    }));\n    return data;\n  };\n\n  return (\n    <div className=\"feature\">\n      {feature ? (\n        <React.Fragment>\n          <div className=\"details-header\">\n            <h2>Census Tract: {feature.properties.GEOID}</h2>\n            <p>\n              <span\n                onClick={() => setShowFacilities(false)}\n                className={!showFacilities ? 'selected' : ''}>\n                Stats\n              </span>{' '}\n              /{' '}\n              <span\n                onClick={() => setShowFacilities(true)}\n                className={showFacilities ? 'selected' : ''}>\n                Facilities\n              </span>\n            </p>\n          </div>\n          <div className=\"cards\">\n            {showFacilities ? (\n              facilities.map(f => <FacilityCard facility={f} />)\n            ) : (\n              <React.Fragment>\n                <div className=\"card basic\">\n                  <h3>Basic Info</h3>\n                  <p>\n                    Population: <span>{feature.properties.TotPopACS17}</span>\n                  </p>\n                  <p>\n                    Mail return rate 2010:{' '}\n                    <span>{feature.properties.MRR2010}%</span>\n                  </p>\n                  <p>\n                    Inital Contact Strategy:\n                    <span>{contactStrategy(feature.properties)}</span>\n                  </p>\n                </div>\n                <div className=\"card demographics\">\n                  <SimpleBarChart\n                    title=\"Demographics\"\n                    data={[\n                      {\n                        label: 'white',\n                        value:\n                          feature.properties.WhiteAloneOrCombo /\n                          feature.properties.TotPopACS17,\n                      },\n                      {\n                        label: 'black',\n                        value:\n                          feature.properties.BlackAloneOrCombo /\n                          feature.properties.TotPopACS17,\n                      },\n                      {\n                        label: 'asian',\n                        value:\n                          feature.properties.AsianAloneOrCombo /\n                          feature.properties.TotPopACS17,\n                      },\n                      {\n                        label: 'hispanic',\n                        value:\n                          feature.properties.Hispanic /\n                          feature.properties.TotPopACS17,\n                      },\n                    ]}\n                  />\n                </div>\n                <div className=\"card english_proficency\">\n                  <SimpleBarChart\n                    title=\"English Proficency\"\n                    data={makeLEP(feature)}\n                    norm={true}\n                  />\n                </div>\n                <div className=\"card internet\">\n                  <SimpleBarChart\n                    title=\"Internet Access\"\n                    data={makeInternetData(feature)}\n                    norm={true}\n                    style={{width: '500px'}}\n                  />\n                </div>\n              </React.Fragment>\n            )}\n          </div>\n        </React.Fragment>\n      ) : (\n        <div className=\"placeholder\">\n          <h2>Click tract for details</h2>\n        </div>\n      )}\n    </div>\n  );\n}\n","export const fillStyles = {\n  strategy: [\n    'match',\n    ['get', 'strategy_code'],\n    0,\n    '#C2A5CF',\n    1,\n    '#9970AB',\n    2,\n    '#A6DBA0',\n    3,\n    '#5AAE61',\n    'grey',\n  ],\n  returnCount: [\n    'interpolate',\n    ['linear'],\n    ['get', 'MRR2010'],\n    0,\n    '#309dae',\n    100,\n    '#ebf7f9',\n  ],\n};\n\nexport default {\n  HTCLayer: {\n    url: `${process.env.PUBLIC_URL}/CensusTractsAllVariables.geojson`,\n    paintFill: {\n      'fill-color': 'grey',\n      'fill-opacity': 0.7,\n    },\n    paintLine: {\n      'line-color': [\n        'case',\n        ['boolean', ['coalesce', ['feature-state', 'selected'], false], true],\n        'red',\n        'white',\n      ],\n      'line-width': [\n        'case',\n        ['boolean', ['coalesce', ['feature-state', 'selected'], false], true],\n        3,\n        1,\n      ],\n    },\n  },\n};\n\nexport function BoundaryLayers() {\n  const layer_list = [\n    {\n      id: 'cd',\n      datasetName: 'Community Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/yfnk-k7r4?method=export&format=Shapefile',\n      nameCol: 'boro_cd',\n      nameAlt: null,\n    },\n    {\n      id: 'pp',\n      datasetName: 'Police Precincts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/78dh-3ptz?method=export&format=Shapefile',\n      nameCol: 'precinct',\n      nameAlt: null,\n    },\n    {\n      id: 'sd',\n      datasetName: 'School Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/r8nu-ymqj?method=export&format=Shapefile',\n      nameCol: 'district',\n      nameAlt: 'districtco',\n    },\n    {\n      id: 'hc',\n      datasetName: 'Health Center Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/b55q-34ps?method=export&format=Shapefile',\n      nameCol: 'hcent_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'cc',\n      datasetName: 'City Council Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile',\n      nameCol: 'coun_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'nycongress',\n      datasetName: 'Congressional Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/qd3c-zuu7?method=export&format=Shapefile',\n      nameCol: 'cong_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'sa',\n      datasetName: 'State Assembly Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/pf5b-73bw?method=export&format=Shapefile',\n      nameCol: 'assem_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'ss',\n      datasetName: 'State Senate Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/h4i2-acfi?method=export&format=Shapefile',\n      nameCol: 'st_sen_dis',\n      nameAlt: null,\n    },\n    {\n      id: 'nta',\n      datasetName: 'Neighborhood Tabulation Area',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/cpf4-rkhq?method=export&format=Shapefile',\n      nameCol: 'ntaname',\n      nameAlt: 'ntacode',\n    },\n    {\n      id: 'bid',\n      datasetName: 'Business Improvement District',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/ejxk-d93y?method=export&format=Shapefile',\n      nameCol: 'bid',\n      nameAlt: null,\n    },\n    /*{\n      id: 'zipcode',\n      datasetName: 'Zip Code',\n      url: 'http://data.cityofnewyork.us/download/i8iw-xf4u/application%2Fzip',\n      nameCol: 'ZIPCODE',\n      nameAlt: null,\n},*/\n  ];\n\n  return layer_list.map(layer => ({\n    ...layer,\n    paintLine: {\n      'line-color': 'black',\n    },\n  }));\n}\n","import React, {useEffect, useState, useRef} from 'react';\nimport {BoundaryLayers} from '../Layers';\n\nexport default function useBoundaryLayers(map, selectedLayer) {\n  const [layers, setLayers] = useState({});\n\n  useEffect(() => {\n    if (map.current) {\n      let layerList = {};\n      map.current.on('load', () => {\n        console.log('adding boundary layers');\n        const boundaryLayers = BoundaryLayers();\n        boundaryLayers.forEach(layer => {\n          const sourceName = `${layer.id}_source`;\n\n          let layerDeets = {...layer};\n          console.log('adding source ', sourceName);\n          layerDeets.source = map.current.addSource(sourceName, {\n            type: 'geojson',\n            data: `${process.env.PUBLIC_URL}/boundaries/${layer.id}.geojson`,\n          });\n\n          if (layer.paintFill) {\n            layerDeets.fillLayer = map.current.addLayer(\n              {\n                id: `${layer.id}-fill`,\n                type: 'fill',\n                source: sourceName,\n                paint: layer.paintFill,\n              },\n              'waterway-label',\n            );\n          }\n          if (layer.paintLine) {\n            layerDeets.lineLayer = map.current.addLayer(\n              {\n                id: `${layer.id}-line`,\n                type: 'line',\n                source: sourceName,\n                paint: layer.paintLine,\n                layout: {\n                  visibility: selectedLayer == layer.id ? 'visible' : 'none',\n                },\n              },\n              'waterway-label',\n            );\n          }\n          layerList[layer.id] = layerDeets;\n        });\n        setLayers(layerList);\n      });\n    }\n  }, [map]);\n\n  useEffect(() => {\n    if (map.current) {\n      Object.entries(layers).forEach(([id, layer]) => {\n        map.current.setLayoutProperty(\n          `${layer.id}-line`,\n          'visibility',\n          id == selectedLayer ? 'visible' : 'none',\n        );\n      });\n    }\n  }, [map, selectedLayer]);\n  return layers;\n}\n","import React, {useEffect} from 'react';\nimport useFacilities from './useFacilities';\n\nexport default function useFacilitiesLayer(map, visible) {\n  const facilities = useFacilities();\n\n  useEffect(() => {\n    console.log('Map ', map, ' Facilities ', facilities);\n    if (map.current && facilities) {\n      map.current.on('load', () => {\n        map.current.loadImage(\n          `${process.env.PUBLIC_URL}/marker.png`,\n          (error, image) => {\n            if (error) throw error;\n            map.current.addImage('marker', image);\n            map.current.addLayer({\n              id: 'facilities',\n              type: 'symbol',\n              source: {\n                type: 'geojson',\n                data: facilities,\n              },\n              layout: {\n                'icon-image': 'marker',\n                'icon-size': 0.4,\n                'text-field': ['get', 'facname'],\n                'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n                'text-offset': [0, 0.6],\n                'text-size': 10,\n                'text-anchor': 'top',\n                visibility: visible ? 'visible' : 'none',\n              },\n            });\n          },\n        );\n      });\n    }\n  }, [map, facilities]);\n\n  useEffect(() => {\n    if (map.current && map.current.loaded()) {\n      map.current.setLayoutProperty(\n        `facilities`,\n        'visibility',\n        visible ? 'visible' : 'none',\n      );\n    }\n  }, [map, visible]);\n\n  return facilities;\n}\n","import React, {useEffect, useState, useMemo} from 'react';\n\nexport default function useFacilities() {\n  const [facilities, setFacilities] = useState(null);\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/facilities.geojson`)\n      .then(a => a.json())\n      .then(a => setFacilities(a));\n  }, []);\n  return facilities;\n}\n\nexport function useCensusTractFacilities(censusTractID, facilities) {\n  return useMemo(() => {\n    return censusTractID\n      ? facilities.features\n          .filter(facility => facility.properties.GEOID == censusTractID)\n          .map(f => f.properties)\n      : [];\n  }, [censusTractID, facilities]);\n}\n","import React, {useRef, useState, useEffect} from 'react';\nimport {useMap} from '../hooks/useMap';\nimport Legend from '../components/Legend';\nimport Details from '../components/Details';\nimport Papa from 'papaparse';\nimport {useMVTLayer} from '../hooks/useMVTLayer';\nimport {useGeoJSONLayer} from '../hooks/useGeoJSONLayer';\nimport useBoundaryLayers from '../hooks/useBoundaryLayers';\nimport useFacilitiesLayer from '../hooks/useFacilitiesLayer';\nimport {useCensusTractFacilities} from '../hooks/useFacilities';\nimport Layers, {fillStyles} from '../Layers';\n\nexport default function MainPage() {\n  const mapDiv = useRef(null);\n  const [selectedBoundary, setSelectedBoundary] = useState('cd');\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const [hardToCountStats, setHardToCountStats] = useState([]);\n  const [showFacilities, setShowFacilities] = useState(true);\n  const [metric, setMetric] = useState('strategy');\n\n  useEffect(() => {\n    Papa.parse('/hard_to_count_NY.csv', {\n      download: true,\n      header: true,\n      complete: function(results) {\n        setHardToCountStats(results);\n      },\n    });\n  }, []);\n\n  const map = useMap(mapDiv, {\n    lnglat: [-73.9920330193022, 40.75078660435196],\n    zoom: 10,\n    style: 'mapbox://styles/mapbox/light-v10',\n    key:\n      'pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw',\n  });\n\n  //  const stategyLayer = useMVTLayer(map, Layers.censusStrategyLayer);\n\n  //  const HTCLayer = useMVTLayer(map, Layers.HTCLayer);\n  const style = {\n    ...Layers.HTCLayer,\n    ...{paintFill: {'fill-color': fillStyles[metric]}},\n  };\n\n  const GeojsonLayer = useGeoJSONLayer(map, 'HTC', {\n    ...style,\n    onClick: feature => setSelectedFeature(feature),\n    selection: selectedFeature,\n  });\n\n  // BoundaryLayers().forEach(layer => {\n  const boundaryLayers = useBoundaryLayers(map, selectedBoundary);\n\n  const facilities = useFacilitiesLayer(map, showFacilities);\n  const tractFacilities = useCensusTractFacilities(\n    selectedFeature ? selectedFeature.properties.GEOID : null,\n    facilities,\n  );\n  return (\n    <div className=\"main-page\">\n      <div className=\"map\" ref={mapDiv} />\n      <div className=\"details\">\n        <Details facilities={tractFacilities} feature={selectedFeature} />{' '}\n      </div>\n      <Legend\n        boundaries={boundaryLayers}\n        selectedBoundary={selectedBoundary}\n        onSelectBoundary={setSelectedBoundary}\n        showFacilities={showFacilities}\n        onShowFacilitiesChange={setShowFacilities}\n        metric={metric}\n        onSelectMetric={setMetric}\n      />\n    </div>\n  );\n}\n","import {useState, useRef, useEffect, useCallback} from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nexport function useMap(mapDivRef, {lnglat, zoom, style, key}) {\n  mapboxgl.accessToken = key;\n  const map = useRef(null);\n  useEffect(() => {\n    map.current = new mapboxgl.Map({\n      container: mapDivRef.current, // container id\n      style: style, // stylesheet location\n      center: lnglat, // starting position [lng, lat]\n      zoom: zoom, // starting zoom\n    });\n  }, [mapDivRef]);\n\n  return map;\n}\n","import {useEffect, useRef} from 'react';\n\nexport function useGeoJSONLayer(\n  map,\n  name,\n  {url, paintFill, paintLine, sourceLayer, onClick, selection},\n) {\n  const fillLayer = useRef(null);\n  const lineLayer = useRef(null);\n  const source = useRef(null);\n  const source_name = `${name}_source`;\n  const oldSelectionID = useRef(null);\n  useEffect(() => {\n    if (map.current) {\n      map.current.on('load', () => {\n        source.current = map.current.addSource(source_name, {\n          type: 'geojson',\n          data: url,\n        });\n\n        if (paintFill) {\n          fillLayer.current = map.current.addLayer(\n            {\n              id: `${name}-fill`,\n              type: 'fill',\n              source: source_name,\n              paint: paintFill,\n            },\n            'waterway-label',\n          );\n        }\n        if (paintLine) {\n          lineLayer.current = map.current.addLayer(\n            {\n              id: `${name}-line`,\n              type: 'line',\n              source: source_name,\n              paint: paintLine,\n            },\n            'waterway-label',\n          );\n        }\n        map.current.on('click', `${name}-fill`, e => {\n          console.log(e.features[0]);\n          if (onClick) {\n            onClick(e.features[0]);\n          }\n        });\n      });\n    }\n  }, [map]);\n\n  useEffect(() => {\n    if (map.current && selection) {\n      if (oldSelectionID.current) {\n        map.current.setFeatureState(\n          {source: source_name, id: oldSelectionID.current},\n          {selected: false},\n        );\n      }\n\n      map.current.setFeatureState(\n        {source: source_name, id: selection.id},\n        {selected: true},\n      );\n      oldSelectionID.current = selection.id;\n    }\n  }, [selection]);\n\n  useEffect(() => {\n    if (map.current && map.current.loaded()) {\n      console.log(\n        'setting fill color to be ',\n        paintFill['fill-color'],\n        paintFill,\n      );\n      map.current.setPaintProperty(\n        `${name}-fill`,\n        'fill-color',\n        paintFill['fill-color'],\n      );\n    }\n  }, [paintFill]);\n  return {fillLayer, source};\n}\n","import React from 'react';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport MainPage from './pages/MainPage';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <Route path=\"/\" component={MainPage} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}