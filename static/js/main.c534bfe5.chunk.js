(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{217:function(e){e.exports=JSON.parse('{"version":8,"name":"Basic","metadata":{"mapbox:autocomposite":false,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},"sources":{"openmaptiles":{"type":"vector","url":"https://api.maptiler.com/tiles/v3/tiles.json?key=6VgTRKggrduCs5zjHNiW"},"tracts":{"type":"vector","tiles":["http://localhost:8000/tile/{x}/{y}/{z}"],"minZoom":0,"maxZoom":14},"mapbox":{"type":"vector","tiles":["https://api.mapbox.com/v4/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2/{z}/{x}/{y}.vector.pbf?sku=101gd2kMk2Mmi&access_token=pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"],"minZoom":0,"maxZoom":14}},"glyphs":"https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=6VgTRKggrduCs5zjHNiW","layers":[{"id":"background","type":"background","paint":{"background-color":"hsl(47, 26%, 88%)"}},{"id":"landuse-residential","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["all",["==","$type","Polygon"],["in","class","residential","suburb","neighbourhood"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":0.7}},{"id":"landcover_grass","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","grass"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":0.45}},{"id":"landcover_wood","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","wood"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{"base":1,"stops":[[8,0.6],[22,1]]}}},{"id":"water","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)"}},{"id":"water_intermittent","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)","fill-opacity":0.7}},{"id":"landcover-ice-shelf","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","ice_shelf"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.8}},{"id":"landcover-glacier","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","glacier"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{"base":1,"stops":[[0,1],[8,0.5]]}}},{"id":"landcover_sand","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"landcover","filter":["all",["in","class","sand"]],"paint":{"fill-antialias":false,"fill-color":"rgba(232, 214, 38, 1)","fill-opacity":0.3}},{"id":"landuse","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["==","class","agriculture"],"layout":{"visibility":"visible"},"paint":{"fill-color":{"property":"pop","type":"interval","stops":[[{"zoom":6,"value":0},"#eae0d0"],[{"zoom":10,"value":0},"rgba(115, 91, 53, 1)"]]}}},{"id":"landuse_overlay_national_park","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","national_park"],"paint":{"fill-color":"#E1EBB0","fill-opacity":{"base":1,"stops":[[5,0],[9,0.75]]}}},{"id":"waterway-tunnel","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-dasharray":[3,3],"line-gap-width":{"stops":[[12,0],[20,6]]},"line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,2]]}}},{"id":"waterway","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]}}},{"id":"waterway_intermittent","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]},"line-dasharray":[2,1]}},{"id":"tunnel_railway_transit","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":0,"filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","transit"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-dasharray":[3,3],"line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"building","type":"fill","source":"openmaptiles","source-layer":"building","paint":{"fill-antialias":true,"fill-color":"rgba(222, 211, 190, 1)","fill-opacity":{"base":1,"stops":[[13,0],[15,1]]},"fill-outline-color":{"stops":[[15,"rgba(212, 177, 146, 0)"],[16,"rgba(212, 177, 146, 0.5)"]]}}},{"id":"housenumber","type":"symbol","source":"openmaptiles","source-layer":"housenumber","minzoom":17,"filter":["==","$type","Point"],"layout":{"text-field":"{housenumber}","text-font":["Noto Sans Regular"],"text-size":10},"paint":{"text-color":"rgba(212, 177, 146, 1)"}},{"id":"road_area_pier","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["==","class","pier"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-antialias":true}},{"id":"road_pier","type":"line","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","pier"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(47, 26%, 88%)","line-width":{"base":1.2,"stops":[[15,1],[17,4]]}}},{"id":"road_bridge_area","type":"fill","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["in","brunnel","bridge"]],"layout":{},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.5}},{"id":"road_path","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","path","track"]],"layout":{"line-cap":"square","line-join":"bevel"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{"base":1.55,"stops":[[4,0.25],[20,10]]}}},{"id":"road_minor","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":13,"filter":["all",["==","$type","LineString"],["in","class","minor","service"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#efefef","line-dasharray":[0.36,0.18],"line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#fff","line-dasharray":[0.28,0.14],"line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"aeroway-area","type":"fill","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"rgba(255, 255, 255, 1)","fill-opacity":{"base":1,"stops":[[13,0],[14,1]]}}},{"id":"aeroway-taxiway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":12,"filter":["all",["in","class","taxiway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[12,1],[17,10]]}}},{"id":"aeroway-runway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["in","class","runway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[11,4],[17,50]]}}},{"id":"road_trunk_primary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","trunk","primary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"road_secondary_tertiary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","secondary","tertiary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,20]]}}},{"id":"road_major_motorway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","class","motorway"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 100%)","line-offset":0,"line-width":{"base":1.4,"stops":[[8,1],[16,10]]}}},{"id":"railway-transit","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","class","transit"],["!=","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"railway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["==","class","rail"],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"waterway-bridge-case","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#bbbbbb","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"waterway-bridge","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_minor case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_major case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"admin_sub","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["in","admin_level",4,6,8],"layout":{"visibility":"visible"},"paint":{"line-color":"hsla(0, 0%, 60%, 0.5)","line-dasharray":[2,1]}},{"id":"admin_country","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["all",["<=","admin_level",2],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 60%)","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}}},{"id":"poi_label","type":"symbol","source":"openmaptiles","source-layer":"poi","minzoom":14,"filter":["all",["==","$type","Point"],["==","rank",1]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"airport-label","type":"symbol","source":"openmaptiles","source-layer":"aerodrome_label","minzoom":10,"filter":["all",["has","iata"]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"road_major_label","type":"symbol","source":"openmaptiles","source-layer":"transportation_name","filter":["==","$type","LineString"],"layout":{"symbol-placement":"line","text-field":"{name:latin} {name:nonlatin}","text-font":["Noto Sans Regular"],"text-letter-spacing":0.1,"text-rotation-alignment":"map","text-size":{"base":1.4,"stops":[[10,8],[20,14]]},"text-transform":"uppercase"},"paint":{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_other","type":"symbol","source":"openmaptiles","source-layer":"place","minzoom":8,"filter":["all",["==","$type","Point"],["!in","class","city","state","country","continent"]],"layout":{"text-anchor":"center","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":6,"text-size":{"stops":[[6,10],[12,14]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 25%)","text-halo-blur":0,"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_city","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":16,"filter":["all",["==","$type","Point"],["==","class","city"]],"layout":{"text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,16]]}},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-width":2}},{"id":"country_label-other","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"country_label","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Bold"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"tracts","type":"fill","source":"tracts","source-layer":"tracts","paint":{"fill-color":"rgba(52, 197, 94, 1)"}}],"id":"basic"}')},262:function(e,t,a){e.exports=a(473)},267:function(e,t,a){},469:function(e,t,a){},473:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),i=a(70),r=a.n(i),o=(a(267),a(232)),s=a(46),c=a(24),u=a(9),p=a(141),m=a.n(p),d=(a(268),a(217));var y=a(29),b=a(30);function f(){return n.a.createElement("section",{className:"contact-type"},n.a.createElement("ul",null,n.a.createElement("li",{className:"category-entry"},n.a.createElement(y.a,{icon:b.a,style:{color:"#C2A5CF"}})," ","Internet First, English"),n.a.createElement("li",{className:"category-entry"},n.a.createElement(y.a,{icon:b.a,style:{color:"#9970AB"}})," ","Internet First, Bilingual"),n.a.createElement("li",{className:"category-entry"},n.a.createElement(y.a,{icon:b.a,style:{color:"#A6DBA0"}})," ","Internet Choice, English"),n.a.createElement("li",{className:"category-entry"},n.a.createElement(y.a,{icon:b.a,style:{color:"#5AAE61"}})," ","Internet Choice, Bilingual")))}function h(e){e.name;var t=e.min,a=e.max,l=e.colStart,i=e.colEnd,r="linear-gradient(90deg, ".concat(l," 0%, ").concat(i," 100%)");return console.log("gradient is ",r),n.a.createElement("div",{className:"range-legend"},n.a.createElement("div",{className:"range-legend-bar",style:{background:r}}),n.a.createElement("div",{className:"range-legend-labels"},n.a.createElement("p",null,t)," ",n.a.createElement("p",null,a)))}var g=a(75),v=a(103),E=a.n(v);a(149);function x(e){var t=e.boundaries,a=e.selectedBoundary,l=e.onSelect,i=Object.entries(t).map((function(e){var t=Object(u.a)(e,2);return{value:t[0],label:t[1].datasetName}}));return n.a.createElement("section",{className:"boundary-selector"},n.a.createElement("h3",null,"Boundaries"),t&&n.a.createElement(E.a,{options:[{value:"tracts",label:"Census Tracts"}].concat(Object(g.a)(i)),onChange:function(e){return l(e.value)},value:a,placeholder:"Select a boundary"}))}function _(){return n.a.createElement("div",{className:"help-tab"},n.a.createElement("section",null,n.a.createElement("h2",null,"Help"),n.a.createElement("h3",null,"About"),n.a.createElement("p",null,"Bacon ipsum dolor amet ground round pancetta doner bresaola frankfurter sirloin ham pork chop fatback chislic flank tri-tip turducken. Frankfurter shankle turkey, flank pancetta andouille tongue pork belly ball tip. Rump leberkas short ribs jowl frankfurter porchetta t-bone flank meatloaf sausage pork. Pastrami shankle bresaola, venison tenderloin cupim tri-tip turkey short ribs biltong beef ribs andouille jerky kevin. Shankle chicken venison sausage alcatra kielbasa chuck ground round chislic turducken pork loin.")),n.a.createElement("section",null,n.a.createElement("h3",null,"How to read this map"),n.a.createElement("p",null,"Bacon ipsum dolor amet ribeye strip steak porchetta doner, sirloin biltong t-bone ground round. Boudin kevin meatloaf ham. Flank kielbasa hamburger corned beef. Capicola kevin short ribs, jerky venison meatball flank sausage meatloaf.")))}function w(e){var t=e.selectedBoundary,a=e.boundaries,i=e.onSelectBoundary,r=e.showFacilities,o=e.onShowFacilitiesChange,s=e.onSelectMetric,c=e.metric,p=Object(l.useState)("layers"),m=Object(u.a)(p,2),d=m[0],g=m[1];return console.log("Tab is ",d),n.a.createElement("div",{className:"Legend overlay"},n.a.createElement("div",{className:"tabs"},n.a.createElement("div",{className:"layers"===d?"selected":"",onClick:function(){return g("layers")}},n.a.createElement(y.a,{icon:b.c})),n.a.createElement("div",{className:"legend"===d?"selected":"",onClick:function(){return g("legend")}},n.a.createElement(y.a,{icon:b.d})),n.a.createElement("div",{className:"info"===d?"selected":"",onClick:function(){return g("info")}},n.a.createElement(y.a,{icon:b.b})),n.a.createElement("div",{className:"questions"===d?"selected":"",onClick:function(){return g("questions")}},n.a.createElement(y.a,{icon:b.e}))),n.a.createElement("div",{className:"content"},"layers"===d&&n.a.createElement("section",{className:"thematic-layer"},n.a.createElement("h3",null,"Metric"),n.a.createElement(E.a,{options:[{value:"strategy",label:"Mail Strategy"},{value:"returnCount",label:"2020 Mail Return Rate"}],onChange:function(e){return s(e.value)},value:c,placeholder:"Select a metric"}),"strategy"==c?n.a.createElement(f,null):n.a.createElement(h,{name:"2020 Mail Return %",min:0,max:100,colStart:"#309dae",colEnd:"#ebf7f9"}),n.a.createElement(x,{selectedBoundary:t,onSelect:i,boundaries:a}),n.a.createElement("div",{className:"facilitesToggle"},n.a.createElement("p",null,"Show Facilities"," ",n.a.createElement("input",{type:"checkbox",checked:r,onChange:function(e){return o(e.target.checked)}})))),"questions"===d&&n.a.createElement(_,null)))}a(472);var j=["#000000","#cf0621","#8f1158","#b93f22","#faaf12"].reverse(),k=a(107),N=function(e){var t=e.cx,a=e.cy,l=e.midAngle,i=e.innerRadius,r=e.outerRadius,o=e.percent,s=(e.index,i+.5*(r-i)),c=t+s*Math.cos(-l*S),u=a+s*Math.sin(-l*S);return o<.04?"":n.a.createElement("text",{x:c,y:u,fill:"white",textAnchor:c>t?"start":"end",dominantBaseline:"central"},"".concat((100*o).toFixed(0),"%"))},S=Math.PI/180;function C(e){var t=e.data,a=e.title,l=t.map((function(e,t){return Object(c.a)({},e,{color:j[t%5]})}));return n.a.createElement("div",{className:"pie-card"},n.a.createElement("h2",null,a),n.a.createElement("div",{className:"pie-card-content"},n.a.createElement(k.c,{width:140,height:140,data:l},n.a.createElement(k.b,{data:l,cx:60,cy:70,labelLine:!1,label:N,outerRadius:60,fill:"#8884d8"},l.map((function(e,t){return n.a.createElement(k.a,{fill:e.color})})))),n.a.createElement("ul",{className:"labels"},l.map((function(e,t){return n.a.createElement("li",{className:"label"},n.a.createElement("span",{className:"bar",style:{backgroundColor:j[t]}}),n.a.createElement("span",{className:"label-text"},e.name))})))))}function O(e){var t=e.assets,a=e.title;return console.log("assets",t),n.a.createElement("div",{className:"asset-card"},n.a.createElement("h2",null,a),n.a.createElement("ul",null,t.map((function(e){return n.a.createElement("li",{className:"asset"},n.a.createElement("h3",null,e.facname),n.a.createElement("p",null,[e.address,e.boro,e.city,e.zipcode].join(",")))}))))}function L(e){var t=e.selected,a=e.onSelect,l=function(e){return e===t?"selected":""};return n.a.createElement("div",{className:"details-selector"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:function(){return a("barriers")},className:l("barriers")},"Barriers"),n.a.createElement("li",{onClick:function(){return a("demographics")},className:l("demographics")},"Demographics"),n.a.createElement("li",{onClick:function(){return a("census2020")},className:l("census2020")},"Census 2020 info"),n.a.createElement("li",{onClick:function(){return a("assets")},className:l("assets")},"Assets")))}function z(e){var t=e.feature,a=e.facilities,i=(e.onSelectFacility,e.layer),r=Object(l.useState)(!1),o=Object(u.a)(r,2),s=(o[0],o[1],Object(l.useState)("barriers")),c=Object(u.a)(s,2),p=c[0],m=c[1],d={tracts:"Census Tract",cd:"Community District",sd:"School District",cc:"City Council District",nat:"Neighborhood Tablulation Area"}[i];console.log("layer:  ",i," feature name  ",d);return n.a.createElement("div",{className:"feature"},t?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"overview"},n.a.createElement("h2",null,d,":"," ","tracts"===i?t.properties.GEOID:t.properties.geoid),n.a.createElement("p",null,"Population:"," ",n.a.createElement("span",{style:{color:"red"}},t.properties.total_population)),n.a.createElement("p",null,"Mail return rate 2010:"," ",n.a.createElement("span",{style:{color:"red"}},t.properties.MRR2010,"%")),n.a.createElement("p",null,"Inital Contact Strategy:",n.a.createElement("span",{style:{color:"red"}},function(e){switch(e.strategy_code){case 0:return"Internet First, English";case 1:return"Internet First, Bilingual";case 2:return"Internet Choice, English";case 3:return"Internet Choice, Bilingual"}}(t.properties)))),n.a.createElement("div",{className:"selector-cards"},n.a.createElement(L,{selected:p,onSelect:function(e){return m(e)}}),n.a.createElement("div",{className:"cards"},"barriers"==p&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card internet"},n.a.createElement(C,{title:"Internet Access",data:function(e){var t=e.properties,a=[{name:"No Internet",value:t.internet_no_access},{name:"Full Subscription",value:t.internet_subscription},{name:"Limited Subscription",value:t.internet_no_subscription}];return console.log(t),a}(t),norm:!0,style:{width:"500px"}})),n.a.createElement("div",{className:"card english_proficency"},n.a.createElement(C,{title:"English Proficency",data:function(e){var t=e.properties;return[{name:"English",value:t.english_english},{name:"Asian Languages",value:t.english_asian},{name:"Spanish",value:t.english_spanish},{name:"European Languages",value:t.english_european},{name:"Other",value:t.english_other}]}(t),norm:!0})),n.a.createElement("div",{className:"card age"},n.a.createElement(C,{title:"Age",data:function(e){var t=e.properties;return[{name:"5 years or younger",value:t.age_less_5},{name:"6 yrs - 15 yrs",value:t.age_6_15},{name:"16 yrs - 64 yrs",value:t.age_16_64},{name:"65 yrs or older",value:t.age_64_over}]}(t),norm:!0}))),"demographics"===p&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card demographics"},n.a.createElement(C,{title:"Demographics",data:function(e){return[{name:"white",value:e.properties.race_white/e.properties.race_total},{name:"black",value:e.properties.race_black/e.properties.race_total},{name:"asian",value:e.properties.race_asian/e.properties.race_total},{name:"latinx",value:e.properties.race_hispanic/e.properties.race_total},{name:"other",value:e.properties.race_other/e.properties.race_total}]}(t)})),n.a.createElement("div",{className:"card foreign"},n.a.createElement(C,{title:"Foreign Born",data:function(e){var t=e.properties;return[{name:"Native Born",value:t.foreign_born_native},{name:"Foreign Born",value:t.foreign_born_foreign}]}(t)})),n.a.createElement("div",{className:"card housing"},n.a.createElement(C,{title:"Renting",data:function(e){var t=e.properties;return[{name:"Reting",value:t.own_vs_rent_rent},{name:"Owned",value:t.own_vs_rent_owner}]}(t)}))),"assets"===p&&n.a.createElement(n.a.Fragment,null,n.a.createElement(O,{title:"Medical",assets:a}))))):n.a.createElement("div",{className:"placeholder"},n.a.createElement("h2",null,"Click ",d," for details")))}var B=a(231),R=a.n(B);var $={strategy:["match",["get","strategy_code"],0,"#C2A5CF",1,"#9970AB",2,"#A6DBA0",3,"#5AAE61","grey"],returnCount:["interpolate",["linear"],["get","MRR2010"],0,"#309dae",100,"#ebf7f9"]},M={HTCLayer:{url:"".concat("/NYCCensusCountMap","/census_tracts.geojson"),paintFill:{"fill-color":"grey","fill-opacity":.7},paintLine:{"line-color":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],"red","white"],"line-width":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],3,1]}}};function A(){return[{id:"cd",datasetName:"Community Districts",polygons:"community_districts_vars.geojson",labels:"communty_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yfnk-k7r4?method=export&format=Shapefile",nameCol:"boro_cd",nameAlt:null},{id:"sd",datasetName:"School Districts",polygons:"school_districts_with_vars.geojson",labels:"school_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/r8nu-ymqj?method=export&format=Shapefile",nameCol:"district",nameAlt:"districtco"},{id:"cc",datasetName:"City Council Districts",polygons:"city_council_district_with_vars.geojson",labels:"city_council_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile",nameCol:"coun_dist",nameAlt:null},{id:"nta",datasetName:"Neighborhood Tabulation Area",polygons:"ntas_with_vars.geojson",labels:"nta_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/cpf4-rkhq?method=export&format=Shapefile",nameCol:"ntaname",nameAlt:"ntacode"}].map((function(e){return Object(c.a)({},e,{paintLine:{"line-color":"black"}})}))}function F(e,t){var a=function(){var e=Object(l.useState)(null),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(l.useEffect)((function(){fetch("".concat("/NYCCensusCountMap","/facilities.geojson")).then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),a}();return Object(l.useEffect)((function(){console.log("Map ",e," Facilities ",a),e.current&&a&&e.current.on("load",(function(){e.current.loadImage("".concat("/NYCCensusCountMap","/marker.png"),(function(t,l){if(t)throw t;e.current.addImage("marker",l),e.current.addLayer({id:"facilities",type:"symbol",source:{type:"geojson",data:a},layout:{"icon-image":"marker","icon-size":.4,"text-field":["get","facname"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-size":10,"text-anchor":"top",visibility:!1}})}))}))}),[e,a]),Object(l.useEffect)((function(){e.current&&e.current.loaded()&&e.current.setLayoutProperty("facilities","visibility",t?"visible":"none")}),[e,t]),a}function P(){var e=Object(l.useRef)(null),t=Object(l.useState)("cd"),a=Object(u.a)(t,2),i=a[0],r=a[1],o=Object(l.useState)(null),s=Object(u.a)(o,2),p=s[0],y=s[1],b=Object(l.useState)([]),f=Object(u.a)(b,2),h=(f[0],f[1]),g=Object(l.useState)(!0),v=Object(u.a)(g,2),E=v[0],x=v[1],_=Object(l.useState)("strategy"),j=Object(u.a)(_,2),k=j[0],N=j[1];Object(l.useEffect)((function(){R.a.parse("/hard_to_count_NY.csv",{download:!0,header:!0,complete:function(e){h(e)}})}),[]);var S=function(e,t){var a=t.lnglat,n=t.zoom,i=t.key;m.a.accessToken=i;var r=Object(l.useRef)(null);return Object(l.useEffect)((function(){r.current=new m.a.Map({container:e.current,style:d,center:a,zoom:n})}),[e]),r}(e,{lnglat:[-73.9920330193022,40.75078660435196],zoom:10,style:"mapbox://styles/mapbox/light-v10",key:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"});Object(l.useEffect)((function(){y(null)}),[i]);var C=Object(c.a)({},M.HTCLayer,{},{paintFill:{"fill-color":$[k],"fill-opacity":.7}}),O=(function(e,t,a){var n=a.url,i=a.paintFill,r=a.paintLine,o=(a.sourceLayer,a.onClick),s=a.selection,c=a.visible,u=Object(l.useRef)(null),p=Object(l.useRef)(null),m=Object(l.useRef)(null),d="".concat(t,"_source"),y=Object(l.useRef)(null);Object(l.useEffect)((function(){e.current&&e.current.on("load",(function(){m.current=e.current.addSource(d,{type:"geojson",data:n}),i&&(u.current=e.current.addLayer({id:"".concat(t,"-fill"),type:"fill",source:d,paint:i,layout:{visibility:c?"visible":"none"}})),r&&(p.current=e.current.addLayer({id:"".concat(t,"-line"),type:"line",source:d,paint:r,layout:{visibility:c?"visible":"none"}})),e.current.on("click","".concat(t,"-fill"),(function(e){console.log(e.features[0]),o&&o(e.features[0])}))}))}),[e]),Object(l.useEffect)((function(){e.current&&s&&(y.current&&e.current.setFeatureState({source:d,id:y.current},{selected:!1}),e.current.setFeatureState({source:d,id:s.id},{selected:!0}),y.current=s.id)}),[s]),Object(l.useEffect)((function(){e.current&&e.current.loaded()&&(e.current.setLayoutProperty("".concat(t,"-fill"),"visibility",c?"visible":"none"),e.current.setLayoutProperty("".concat(t,"-line"),"visibility",c?"visible":"none"))}),[e,c]),Object(l.useEffect)((function(){e.current&&e.current.loaded()&&(console.log("setting fill color to be ",i["fill-color"],i),e.current.setPaintProperty("".concat(t,"-fill"),"fill-color",i["fill-color"]))}),[i])}(S,"HTC",Object(c.a)({},C,{onClick:function(e){return y(e)},selection:p,visible:"tracts"===i})),function(e,t,a,n,i,r){var o=Object(l.useState)({}),s=Object(u.a)(o,2),p=s[0],m=s[1];return Object(l.useEffect)((function(){if(e.current){var a={};e.current.on("load",(function(){A().forEach((function(l){var n="".concat(l.id,"_source"),i=Object(c.a)({},l);i.source=e.current.addSource(n,{type:"geojson",data:"".concat("/NYCCensusCountMap","/boundaries/").concat(l.polygons)}),i.sourceLabels=e.current.addSource(n+"_labels",{type:"geojson",data:"".concat("/NYCCensusCountMap","/boundaries/").concat(l.labels)}),i.fillLayer=e.current.addLayer({id:"".concat(l.id,"-fill"),type:"fill",source:n,paint:{"fill-color":"grey","fill-opacity":.7},layout:{visibility:t==l.id?"visible":"none"}}),l.paintLine&&(i.lineLayer=e.current.addLayer({id:"".concat(l.id,"-line"),type:"line",source:n,paint:l.paintLine,layout:{visibility:t==l.id?"visible":"none"}})),i.labelLayer=e.current.addLayer({id:"".concat(l.id,"-labels"),type:"symbol",source:n+"_labels",layout:{visibility:t==l.id?"visible":"none","text-field":["get","geoid"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,0],"text-size":15,"text-anchor":"top"}}),a[l.id]=i})),m(a)}))}}),[e]),Object(l.useEffect)((function(){e.current&&Object.entries(p).forEach((function(a){var l=Object(u.a)(a,2),n=l[0],i=l[1];e.current.setLayoutProperty("".concat(i.id,"-line"),"visibility",n==t?"visible":"none"),e.current.setLayoutProperty("".concat(i.id,"-labels"),"visibility",n==t?"visible":"none"),e.current.setLayoutProperty("".concat(i.id,"-fill"),"visibility",n==t?"visible":"none")}))}),[e,t]),Object(l.useEffect)((function(){e.current&&A().forEach((function(t){e.current.on("click","".concat(t.id,"-fill"),(function(e){r&&r(e.features[0],t.id)}))}))}),[e]),p}(S,i,0,0,0,(function(e){return y(e)}))),L=F(S,E),B=function(e,t){return Object(l.useMemo)((function(){return e?t.features.filter((function(t){return t.properties.GEOID==e})).map((function(e){return e.properties})):[]}),[e,t])}(p?p.properties.GEOID:null,L);return n.a.createElement("div",{className:"main-page"},n.a.createElement("div",{className:"map",ref:e}),n.a.createElement("div",{className:"info overlay"},n.a.createElement("h2",null,"NYC CENSUS 2020 INTERACTIVE MAP"),n.a.createElement("h3",null,"Created by Stuart Lynn: Hosted/designed Hester Street"),n.a.createElement("p",null,"This interactive map serves the purpose for any organization to learn more about the people they serve. This map is fully interactive and will remain avaliable after the Census effort")),n.a.createElement("div",{className:"details overlay"},n.a.createElement(z,{facilities:B,feature:p,layer:i})," "),n.a.createElement(w,{boundaries:O,selectedBoundary:i,onSelectBoundary:r,showFacilities:E,onShowFacilitiesChange:x,metric:k,onSelectMetric:N}))}a(469);var I=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(o.a,{basename:"/NYCCensusCountMap"},n.a.createElement(s.a,{path:"/",component:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[262,1,2]]]);
//# sourceMappingURL=main.c534bfe5.chunk.js.map