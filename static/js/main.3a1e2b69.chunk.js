(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{225:function(e){e.exports=JSON.parse('{"version":8,"name":"Basic","metadata":{"mapbox:autocomposite":false,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},"sources":{"openmaptiles":{"type":"vector","url":"https://api.maptiler.com/tiles/v3/tiles.json?key=6VgTRKggrduCs5zjHNiW"},"mapbox":{"type":"vector","tiles":["https://api.mapbox.com/v4/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2/{z}/{x}/{y}.vector.pbf?sku=101gd2kMk2Mmi&access_token=pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"],"minZoom":0,"maxZoom":14}},"glyphs":"https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=6VgTRKggrduCs5zjHNiW","layers":[{"id":"background","type":"background","paint":{"background-color":"hsl(47, 26%, 88%)"}},{"id":"landuse-residential","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["all",["==","$type","Polygon"],["in","class","residential","suburb","neighbourhood"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":0.7}},{"id":"landcover_grass","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","grass"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":0.45}},{"id":"landcover_wood","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","wood"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{"base":1,"stops":[[8,0.6],[22,1]]}}},{"id":"water","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)"}},{"id":"water_intermittent","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)","fill-opacity":0.7}},{"id":"landcover-ice-shelf","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","ice_shelf"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.8}},{"id":"landcover-glacier","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","glacier"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{"base":1,"stops":[[0,1],[8,0.5]]}}},{"id":"landcover_sand","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"landcover","filter":["all",["in","class","sand"]],"paint":{"fill-antialias":false,"fill-color":"rgba(232, 214, 38, 1)","fill-opacity":0.3}},{"id":"landuse","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["==","class","agriculture"],"layout":{"visibility":"visible"},"paint":{"fill-color":{"property":"pop","type":"interval","stops":[[{"zoom":6,"value":0},"#eae0d0"],[{"zoom":10,"value":0},"rgba(115, 91, 53, 1)"]]}}},{"id":"landuse_overlay_national_park","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","national_park"],"paint":{"fill-color":"#E1EBB0","fill-opacity":{"base":1,"stops":[[5,0],[9,0.75]]}}},{"id":"waterway-tunnel","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-dasharray":[3,3],"line-gap-width":{"stops":[[12,0],[20,6]]},"line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,2]]}}},{"id":"waterway","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]}}},{"id":"waterway_intermittent","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]},"line-dasharray":[2,1]}},{"id":"tunnel_railway_transit","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":0,"filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","transit"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-dasharray":[3,3],"line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"building","type":"fill","source":"openmaptiles","source-layer":"building","paint":{"fill-antialias":true,"fill-color":"rgba(222, 211, 190, 1)","fill-opacity":{"base":1,"stops":[[13,0],[15,1]]},"fill-outline-color":{"stops":[[15,"rgba(212, 177, 146, 0)"],[16,"rgba(212, 177, 146, 0.5)"]]}}},{"id":"housenumber","type":"symbol","source":"openmaptiles","source-layer":"housenumber","minzoom":17,"filter":["==","$type","Point"],"layout":{"text-field":"{housenumber}","text-font":["Noto Sans Regular"],"text-size":10},"paint":{"text-color":"rgba(212, 177, 146, 1)"}},{"id":"road_area_pier","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["==","class","pier"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-antialias":true}},{"id":"road_pier","type":"line","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","pier"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(47, 26%, 88%)","line-width":{"base":1.2,"stops":[[15,1],[17,4]]}}},{"id":"road_bridge_area","type":"fill","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["in","brunnel","bridge"]],"layout":{},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.5}},{"id":"road_path","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","path","track"]],"layout":{"line-cap":"square","line-join":"bevel"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{"base":1.55,"stops":[[4,0.25],[20,10]]}}},{"id":"road_minor","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":13,"filter":["all",["==","$type","LineString"],["in","class","minor","service"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#efefef","line-dasharray":[0.36,0.18],"line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#fff","line-dasharray":[0.28,0.14],"line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"aeroway-area","type":"fill","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"rgba(255, 255, 255, 1)","fill-opacity":{"base":1,"stops":[[13,0],[14,1]]}}},{"id":"aeroway-taxiway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":12,"filter":["all",["in","class","taxiway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[12,1],[17,10]]}}},{"id":"aeroway-runway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["in","class","runway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[11,4],[17,50]]}}},{"id":"road_trunk_primary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","trunk","primary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"road_secondary_tertiary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","secondary","tertiary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,20]]}}},{"id":"road_major_motorway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","class","motorway"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 100%)","line-offset":0,"line-width":{"base":1.4,"stops":[[8,1],[16,10]]}}},{"id":"railway-transit","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","class","transit"],["!=","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"railway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["==","class","rail"],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"waterway-bridge-case","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#bbbbbb","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"waterway-bridge","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_minor case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_major case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"admin_sub","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["in","admin_level",4,6,8],"layout":{"visibility":"visible"},"paint":{"line-color":"hsla(0, 0%, 60%, 0.5)","line-dasharray":[2,1]}},{"id":"admin_country","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["all",["<=","admin_level",2],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 60%)","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}}},{"id":"poi_label","type":"symbol","source":"openmaptiles","source-layer":"poi","minzoom":14,"filter":["all",["==","$type","Point"],["==","rank",1]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"airport-label","type":"symbol","source":"openmaptiles","source-layer":"aerodrome_label","minzoom":10,"filter":["all",["has","iata"]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"road_major_label","type":"symbol","source":"openmaptiles","source-layer":"transportation_name","filter":["==","$type","LineString"],"layout":{"symbol-placement":"line","text-field":"{name:latin} {name:nonlatin}","text-font":["Noto Sans Regular"],"text-letter-spacing":0.1,"text-rotation-alignment":"map","text-size":{"base":1.4,"stops":[[10,8],[20,14]]},"text-transform":"uppercase"},"paint":{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_other","type":"symbol","source":"openmaptiles","source-layer":"place","minzoom":8,"filter":["all",["==","$type","Point"],["!in","class","city","state","country","continent"]],"layout":{"text-anchor":"center","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":6,"text-size":{"stops":[[6,10],[12,14]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 25%)","text-halo-blur":0,"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_city","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":16,"filter":["all",["==","$type","Point"],["==","class","city"]],"layout":{"text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,16]]}},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-width":2}},{"id":"country_label-other","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"country_label","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Bold"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}}],"id":"basic"}')},269:function(e,t,a){e.exports=a(509)},274:function(e,t,a){},505:function(e,t,a){},509:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(73),r=a.n(l),o=(a(274),a(239)),s=a(47),c=a(13),u=a(46),p=a(7),d=a(55),m=a.n(d),y=a(224),h=a.n(y),f=(a(303),a(304),a(225));var b=a(21),g=a(18);function v(e){e.name;var t=e.min,a=e.max,n=e.colStart,l=e.colEnd,r="linear-gradient(90deg, ".concat(n," 0%, ").concat(l," 100%)");return console.log("gradient is ",r),i.a.createElement("div",{className:"range-legend"},i.a.createElement("div",{className:"range-legend-bar",style:{background:r}}),i.a.createElement("div",{className:"range-legend-labels"},i.a.createElement("p",null,t)," ",i.a.createElement("p",null,a)))}function E(e){var t=e.categories;return i.a.createElement("section",{className:"category-layer"},i.a.createElement("ul",null,t.map((function(e){return i.a.createElement("li",{key:e.name,className:"category-entry"},i.a.createElement("div",{className:"category-marker",style:{backgroundColor:e.color}}),e.name)}))))}var _=a(106),w=a.n(_);a(157);function C(e){var t=e.boundaries,a=e.selectedBoundary,n=e.onSelect,l=Object.entries(t).map((function(e){var t=Object(p.a)(e,2);return{value:t[0],label:t[1].datasetName}}));return i.a.createElement("section",{className:"boundary-selector"},i.a.createElement("h3",null,"Boundaries"),t&&i.a.createElement(w.a,{options:[{value:"tracts",label:"Census Tracts"}].concat(Object(u.a)(l)),onChange:function(e){return n(e.value)},value:a,placeholder:"Select a boundary"}))}function S(e){var t=e.title,a=e.options,l=e.selected,r=e.onSelect,o=Object(n.useState)(!1),s=Object(p.a)(o,2),c=s[0],u=s[1],d=a.filter((function(e){return l.includes(e)})),m=d.length===a.length;return i.a.createElement("section",null,i.a.createElement("div",{className:"facilities-section-header"},i.a.createElement(b.a,{onClick:function(){return u(!c)},icon:c?g.a:g.b})," ",i.a.createElement("input",{type:"checkbox",checked:m,onChange:function(e){return t=e.target.checked,void r(t?a.filter((function(e){return!l.includes(e)})):a.filter((function(e){return l.includes(e)})));var t}}),i.a.createElement("h4",{onClick:function(){return u(!c)}},t," (",d.length,"/",a.length,")")),c&&i.a.createElement("ul",null,a.map((function(e){return i.a.createElement("li",{key:e,className:"facilities-option"},i.a.createElement("input",{type:"checkbox",checked:l.includes(e),onChange:function(){return r([e])}}),e)}))))}function F(e){var t=e.selected,a=e.onSelected,l=Object(n.useState)({"Education Assets":!1}),r=Object(p.a)(l,2);r[0],r[1];return i.a.createElement("div",{className:"facilities-selector"},i.a.createElement("h3",null,"Community Assets"),[{title:"Educational Assets",options:["Head Start and Early Head Start","Universal Pre-K","K-12 (NYC Public Schools)","Community Schools","Public Libraries"]},{title:"Services and Programs",options:["Shelters","Food Kitchens and Pantries","Senior Centers","Mental Health Services","Hospitals and Rehab Centers","LGBTQ Centers and Services","NYCHA Developments"]},{title:"Neighborhood Institutions",options:["Community-Based Organizations","Faith-Based Organizations","Community Centers and YMCA's"]}].map((function(e){return i.a.createElement(S,{key:e.title,title:e.title,options:e.options,selected:t,onSelect:function(e){return a(e)}})})))}function x(){return i.a.createElement("div",{className:"help-tab"},i.a.createElement("section",null,i.a.createElement("h3",null,"About"),i.a.createElement("p",null,"This interactive map was created by"," ",i.a.createElement("a",{href:"https://hesterstreet.org/",target:"_blank"},"Hester Street")," ","in partnership with"," ",i.a.createElement("a",{herf:"http://stuartlynn.me/"},"Stuart Lynn"),". Hester Street is an urban planning, design and development nonprofit that works to ensure neighborhoods are shaped by the people who live in them."),i.a.createElement("p",null,"This work was made possible with the support of the NYC Census 2020 and CUNY Complete Count Fund."),i.a.createElement("p",null,"If you have additional assets, services or neighborhood institutions to contribute to the map, please email"," ",i.a.createElement("a",{href:"mailto:devin@hesterstreet.org"},"devin@hesterstreet.org")," ",'with the subject line "New interactive map assets". Be sure to include the following information for each asset'),i.a.createElement("ul",{style:{listStyleType:"circle"}},i.a.createElement("li",null,"Name "),i.a.createElement("li",null,"Address"),i.a.createElement("li",null,"Layer it should be added to"))))}function N(){return i.a.createElement("div",{className:"help-tab"},i.a.createElement("section",null,i.a.createElement("h3",null,"Info"),i.a.createElement("h3",null,"Context Layers"),i.a.createElement("p",null,"The base context layers for the map are supplied by OpenStreetMap>")),i.a.createElement("section",null,i.a.createElement("h3",null,"Asset Layers"),i.a.createElement("h4",null,"Educational Assets "),i.a.createElement("p",null,"These layers identify the location of educational facilities. Children are a historically undercounted community; it will be important to reach parents at Head Start, Early Head Start, Universal Pre-K, K-12 (NYC Public Schools), and Community Schools. Other assets include public libraries, which can be hubs for engaging the wider community. These layers do not include a comprehensive list of charter, parochial, or private schools."),i.a.createElement("p",{className:"source"},"Sources:"," ",i.a.createElement("a",{target:"_blank",href:"https://data.cityofnewyork.us/City-Government/Facilities-Database-Shapefile/2fpa-bnsx"},"Department of City Planning. (2019). City Planning Facilities Database.")),i.a.createElement("h4",null,"Services and Programs"),i.a.createElement("p",null,"These layers identify various locations where New Yorkers access services, assistance or programs. The assets in this list can help you engage a range of historically undercounted communities, like low-income individuals, people experiencing homelessness, people that live with mental or physical disabilities, people who do not live in traditional housing and LGBTQ individuals. These layers do not include all services and programs serving these populations. If we are missing any important services in your community, please let us know by emailing"," ",i.a.createElement("a",{target:"_blank",href:"mainto:devin@hesterstreet.org"},"devin@hesterstreet.org")),i.a.createElement("p",{className:"sources"},"Sources:"," ",i.a.createElement("a",{target:"_blank",href:"https://data.cityofnewyork.us/City-Government/Facilities-Database-Shapefile/2fpa-bnsx"},"Department of City Planning. (2019). City Planning Facilities Database"),".",i.a.createElement("a",{target:"_blank",href:"https://gaycenter.org/recovery-health/health/lgbthealth-network/#networkmembers"},"The Lesbian, Gay, Bisexual and Transgender Community Center. (2019). LGBTQ Health and Human Services Network Members."),i.a.createElement("a",{target:"_blank",href:"https://nycopendata.socrata.com/Health/Mental-Health-Service-Finder-Data/8nqg-ia7v\n"},"Office of the Mayor. (2018). NYC Mental Health Service Finder Data.")),i.a.createElement("h4",null,"Neighborhood Institutions"),i.a.createElement("p",null,"These layers identify institutions where residents gather, like faith-based organizations, community centers and community-based organizations. These neighborhood institutions can become your partners for Census efforts. These layers do not include a comprehensive list of all institutions serving your neighborhood populations. If we are missing any important institutions in your community, please let us know by emailing devin@hesterstreet.org"),i.a.createElement("p",null,"Sources:"," ",i.a.createElement("a",{target:"_blank",href:"https://data.cityofnewyork.us/City-Government/Facilities-Database-Shapefile/2fpa-bnsx"},"Department of City Planning. (2019). City Planning Facilities Database."," "),"United Way of New York City, New York Immigration Coalition, and Hester Street Partner databases in NYC.")),i.a.createElement("section",null,i.a.createElement("h3",null,"Census 2020 Info Layers"),i.a.createElement("h4",null,"Mail Contact Strategy"),i.a.createElement("p",null,"This dataset shows how US Census Bureau\u2019s plan to contact each household in the United States. Understanding your target areas Mail Contact Strategy will help you spread the word to your community about how they can self-respond to the Census. In the case of New York City, the forms of contact include four methods divided into two categories: Internet First and Internet Choice."),i.a.createElement("p",null,"Internet First (marked as purple on the map) are areas that are more likely to respond first online. These households will receive an invitation to complete the census online. Areas marked in dark purple will be sent an invitation in English, while areas marked in light purple will be sent an invitation in both English and Spanish."),i.a.createElement("p",null,"Internet Choice (marked as green on the map) are areas that are less likely to respond online. These households will receive a paper questionnaire, along with an invitation to complete the census online or by phone. Areas marked in dark green will be sent an invitation in English, while areas marked in light green will be sent an invitation in both English and Spanish."),i.a.createElement("p",{className:"sources"},"Source: NYC Census 2020 Early NRFU Early NRFU stands for \u201cEarly Non-Response Follow Up\u201d. Non-Response Follow Up is a contact method the Census Bureau uses to collect information for those households who have not self-responded to the Census. During the NRFU period, Census enumerators will visit households and administer the questionnaire. \u201cEarly NRFU\u201d areas will receive enumerators on April 9th, so the Census can capture college and university students who live in off-campus housing before the end of the spring semester when they may leave for another residence. Source: NYC Census 2020 2010 Mail Return Rate The 2010 Mail return rate is the percentage of households who self-responded to the Census in 2010. Self-response is the more accurate way for every New Yorker to be counted, so the return rate allows us to identify areas that have been undercounted in the past and are at risk of being undercounted again during the 2020 Census. We call this areas \u201chistorically undercounted communities\u201d or \u201cHard-to-Count areas\u201d. The NYC Census 2020 Team plans to push the City\u2019s Self-Response rate from 62% to the national average of 76% or higher. Source:U.S. Census Bureau. (2012). 2012 Planning Database.")),i.a.createElement("section",null,i.a.createElement("h3",null,"Boundary Layers"),i.a.createElement("p",null,"New York City has many geographic boundaries; all used by different groups for different purposes. Depending on your needs, using a specific boundary can help you better understand your target population."),i.a.createElement("p",null,"We want to note that the \u201cNOCC Neighborhoods\u201d boundary slightly differs from actual boundaries for the neighborhoods of NYC. This layer specifically pertains to NOCC leaders for the NYC Census effort and their defined neighborhood boundaries."),i.a.createElement("p",{className:"sources"},"Sources: NYC Census 2020 NYC Open Data 2018 US Census Bureau 2018")),i.a.createElement("section",null,i.a.createElement("h3",null,"Demographic Layers"),i.a.createElement("p",null,"We included data on the demographics of individuals who are considered undercounted populations. These layers can help you better hone in on your target populations. For example, comparing race to internet access can show where areas of NYC have no internet in relation to which racial group lies primarily in those areas)."),i.a.createElement("p",null,"For Internet Access: Limited Internet refers to those with cellular data plans and Internet access without a subscription. Internet subscription includes any kind of broadband access, fiber optic, DSL and/or satellite subscriptions. Internet Access is an extremely important dataset because the US Census Bureau is not mailing questionnaires to 80% of national households, and will be requesting households to fill out the Census online or over the phone. You can view where certain areas will and will not receive paper questionnaires by turning on the Mail Contact Strategies layers under Important Layers."),i.a.createElement("p",{classNmae:"sources"},"Source: US Census Bureau, American Community Survey 5-Year Data 2018")))}function j(e){var t=e.selectedBoundary,a=e.boundaries,l=e.onSelectBoundary,r=(e.showFacilities,e.onShowFacilitiesChange,e.onSelectMetric),o=e.metric,s=e.selectedFacilityTypes,c=e.onSelectFacilityType,u=e.showENRFU,d=e.onToggleENRFU,m=Object(n.useState)("layers"),y=Object(p.a)(m,2),h=y[0],f=y[1];return console.log("ENRFU ",u),i.a.createElement("div",{className:"Legend overlay"},i.a.createElement("div",{className:"tabs"},i.a.createElement("div",{className:"layers"===h?"selected":"",onClick:function(){return f("layers")}},i.a.createElement(b.a,{icon:g.e})),i.a.createElement("div",{className:"info"===h?"selected":"",onClick:function(){return f("info")}},i.a.createElement(b.a,{icon:g.d})),i.a.createElement("div",{className:"questions"===h?"selected":"",onClick:function(){return f("questions")}},i.a.createElement(b.a,{icon:g.f}))),i.a.createElement("div",{className:"content"},"layers"===h&&i.a.createElement("section",{className:"thematic-layer"},i.a.createElement("h3",null,"Neighborhood Information"),i.a.createElement(w.a,{options:[{value:"strategy",label:"2020 Census Mail Contact Stategies"},{value:"returnCount",label:"Hard to Count Populations(2010)"},{value:"blackPop",label:"Black Population (%)"},{value:"latinxPop",label:"Latinx Population (%)"},{value:"asianPop",label:"Asian Population (%)"},{value:"whitePop",label:"White Population (%)"},{value:"otherPop",label:"Other Population (%)"},{value:"noInternetPC",label:"Population with No Internet Access (%)"},{value:"englishProficency",label:"Limited English Proficiency (%)"},{value:"under5",label:"Population Under 5 Years Old (%)"}],onChange:function(e){return r(e.value)},value:o,placeholder:"Select a metric"}),"strategy"===o&&i.a.createElement(E,{categories:[{color:"#C2A5CF",name:"Internet First, English"},{color:"#9970AB",name:"Internet First, Bilingual"},{color:"#A6DBA0",name:"Internet Choice, English"},{color:"#5AAE61",name:"Internet Choice, Bilingual"}]}),"returnCount"===o&&i.a.createElement(E,{categories:[{color:"#b95356",name:"0 - 60%"},{color:"#ee5658",name:"60 - 65%"},{color:"#ecbaa8",name:"65 - 70%"},{color:"#f9bd53",name:"70 - 73%"},{color:"rgba(0,0,0,0)",name:"Not hard to count"}]}),"asianPop"===o&&i.a.createElement(v,{name:"Asian Population (%)",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#8f1158"}),"blackPop"===o&&i.a.createElement(v,{name:"Black Population (%)",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#b93f22"}),"latinxPop"===o&&i.a.createElement(v,{name:"Latinx Population (%)",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#cf0621"}),"whitePop"===o&&i.a.createElement(v,{name:"White Population (%)",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#faaf12"}),"otherPop"===o&&i.a.createElement(v,{name:"Other Population (%)",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#000000"}),"noInternetPC"===o&&i.a.createElement(v,{name:"% No Internet",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#faaf12"}),"englishProficency"===o&&i.a.createElement(v,{name:"% Proficent in English",min:"0%",max:"100%",colStart:"#FFFFFF",colEnd:"#faaf12"}),"under5"===o&&i.a.createElement(v,{name:"% under 5 years old",min:"0%",max:"10%",colStart:"#FFFFFF",colEnd:"#faaf12"}),i.a.createElement(C,{selectedBoundary:t,onSelect:l,boundaries:a}),i.a.createElement(F,{selected:s,onSelected:c}),i.a.createElement("div",{className:"NRFU"},i.a.createElement("h3",null,"Early NRFU Locations"),i.a.createElement("div",{className:"nrfu-selector"},i.a.createElement("div",{className:"category-marker",style:{backgroundColor:"blue"}}),i.a.createElement("input",{type:"checkbox",checked:u,onChange:function(){d(!u)}}),i.a.createElement("p",null,"Show NRFU Locations")))),"info"===h&&i.a.createElement(N,null),"questions"===h&&i.a.createElement(x,null)))}a(508);var k=["#000000","#cf0621","#8f1158","#b93f22","#faaf12"].reverse(),O=a(110),L=function(e){var t=e.cx,a=e.cy,n=e.midAngle,l=e.innerRadius,r=e.outerRadius,o=e.percent,s=(e.index,l+.5*(r-l)),c=t+s*Math.cos(-n*P),u=a+s*Math.sin(-n*P);return o<.04?"":i.a.createElement("text",{x:c,y:u,fill:"white",textAnchor:c>t?"start":"end",dominantBaseline:"central"},"".concat((100*o).toFixed(0),"%"))},P=Math.PI/180;function D(e){var t=e.data,a=e.title,n=t.map((function(e,t){return Object(c.a)({},e,{color:k[t%5]})}));return i.a.createElement("div",{className:"pie-card"},i.a.createElement("h2",null,a),i.a.createElement("div",{className:"pie-card-content"},i.a.createElement(O.c,{width:115,height:115,data:n},i.a.createElement(O.b,{data:n,cx:55,cy:55,labelLine:!1,label:L,outerRadius:55,isAnimationActive:!1,fill:"#8884d8"},n.map((function(e,t){return i.a.createElement(O.a,{fill:e.color})})))),i.a.createElement("ul",{className:"labels"},n.map((function(e,t){return i.a.createElement("li",{className:"label"},i.a.createElement("span",{className:"bar",style:{backgroundColor:k[t]}}),i.a.createElement("span",{className:"label-text"},e.name))})))))}function T(e){e.title;var t=e.facts;return i.a.createElement("div",{className:"fact"},t.map((function(e){return i.a.createElement("p",{className:"fact-name"},i.a.createElement("span",{className:"fact-value"},e.value.toLocaleString())," ",i.a.createElement("span",{className:"fact-text"},e.name))})))}function B(e){var t=e.assets,a=e.title;return i.a.createElement("div",{className:"asset-card"},i.a.createElement("h2",null,i.a.createElement("img",{src:"".concat("/NYCCensusCountMap","/imgs/").concat({"Hospitals and Rehab Centers":"Dot_Hospitals.png","Faith-Based Organizations":"Dot_FBO.png","City Wide Community Schools":"Dot_CommunitySchools.png","LGBTQ Centers and Services":"Dot_LGBTQ.png","Food Kitchens and Pantries":"Dot_FoodKitchens.png","Senior Centers":"Dot_SeniorCenters.png","Universal Pre-K":"Dot_UniPreK.png","K-12 (NYC Public Schools)":"Dot_K12.png","Community Schools":"Dot_CommunityCenters.png","Mental Health Services":"Dot_MentalHealth.png","Community-Based Organizations":"Dot_CBO.png","Public Libraries":"Dot_Libraries.png"}[a])}),a),i.a.createElement("ul",null,t.map((function(e){return i.a.createElement("li",{key:e.name,className:"asset"},i.a.createElement("h3",null,e.name),i.a.createElement("p",null,[e.address,e.boro,e.city,e.zipcode].join(",")))}))))}function A(e){var t=e.selected,a=e.onSelect,n=function(e){return e===t?"selected":""};return i.a.createElement("div",{className:"details-selector"},i.a.createElement("ul",null,i.a.createElement("li",{onClick:function(){return a("demographics")},className:n("demographics")},"Demographics"),i.a.createElement("li",{onClick:function(){return a("housing")},className:n("housing")},"Housing and Economics"),i.a.createElement("li",{onClick:function(){return a("assets")},className:n("assets")},"Assets")))}function R(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){fetch("".concat("/NYCCensusCountMap","/facilities.geojson")).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),a}function I(e){var t=e.feature,a=(e.onSelectFacility,e.layer),l=e.tract,r=e.facilityTypes,o=Object(n.useState)(!1),s=Object(p.a)(o,2),u=(s[0],s[1],Object(n.useState)(!0)),d=Object(p.a)(u,2),m=d[0],y=d[1],h=Object(n.useState)("demographics"),f=Object(p.a)(h,2),b=f[0],g=f[1],v=function(e,t,a){var i=R();console.log("filtering facilities by ",e,t,a);var l={cd:"community_district_id",tracts:"census_tract_id",cc:"city_council_district_id",sd:"school_district_id",nta:"nta_id",police_precincts:"precinct_id",congress_districts:"cong_dist_id",senate_districts:"st_sen_dist_id",NOCCs:"noccs_id"};return Object(n.useMemo)((function(){return e?i.features.filter((function(a){return a.properties[l[t]]==e})).filter((function(e){return!(a&&a.length>0)||a.includes(e.properties.asset_type)})).map((function(e){return e.properties})):[]}),[e,i,t,a])}(m?t?t.properties.geoid:null:l?l.properties.GEOID:null,m?a:"tracts",r),E={tracts:"Census Tract",cd:"Community District",sd:"School District",cc:"City Council District",nat:"Neighborhood Tablulation Area",NOCCs:"NOCC",senate_districts:"Senate District",police_precincts:"Police Precinct",congress_districts:"Congress Assembly District"}[a],_=m&&"tracts"!==a?t:l&&Object(c.a)({},l,{properties:Object(c.a)({},l.properties,{geoid:l.properties.GEOID})});return _?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"overview"},i.a.createElement("div",{className:"boundary-type-selector"},t&&i.a.createElement("div",{className:"boundary-type-selector-type ".concat(m?"":"selected"),onClick:function(){return y(!0)}},i.a.createElement("h2",{className:m?"":"selected"},E,": ",t.properties.geoid)),l&&i.a.createElement("div",{className:"boundary-type-selector-type ".concat(m?"selected":""),onClick:function(){return y(!1)}},i.a.createElement("h2",null,"Census Tract: ",l.properties.GEOID))),i.a.createElement("div",{className:"top-stats"},_&&i.a.createElement("p",null,"Population:"," ",i.a.createElement("span",{style:{color:"red"}},Math.floor(_.properties.total_population).toLocaleString())),m&&t?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Population in HTC areas:"," ",i.a.createElement("span",{style:{color:"red"}},Math.floor(100*t.properties.htc_pop/t.properties.total_population).toLocaleString(),"%"))):l&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Mail return rate 2010:"," ",i.a.createElement("span",{style:{color:"red"}},l.properties.MRR2010,"%")),i.a.createElement("p",null,"Inital Contact Strategy:"," ",i.a.createElement("span",{style:{color:"red"}},function(e){switch(e.strategy_code){case 0:return"Internet First, English";case 1:return"Internet First, Bilingual";case 2:return"Internet Choice, English";case 3:return"Internet Choice, Bilingual"}}(l.properties)))))),i.a.createElement("div",{className:"selector-cards"},i.a.createElement(A,{selected:b,onSelect:function(e){return g(e)}}),_&&i.a.createElement("div",{className:"cards"},"demographics"===b&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card demographics"},i.a.createElement(D,{title:"Race",data:function(e){return[{name:"white",value:e.properties.race_white/e.properties.race_total},{name:"black",value:e.properties.race_black/e.properties.race_total},{name:"asian",value:e.properties.race_asian/e.properties.race_total},{name:"latinx",value:e.properties.race_hispanic/e.properties.race_total},{name:"other",value:e.properties.race_other/e.properties.race_total}]}(_)}),i.a.createElement(T,{title:"",facts:[{name:"identify as Latinx",value:Math.floor(100*_.properties.race_hispanic/_.properties.race_total).toLocaleString()+"%"},{name:"identify as Black",value:Math.floor(100*_.properties.race_black/_.properties.race_total).toLocaleString()+"%"}]})),i.a.createElement("div",{className:"card foreign"},i.a.createElement(D,{title:"Foreign Born",data:function(e){var t=e.properties;return[{name:"US Born",value:t.foreign_born_native},{name:"Foreign Born",value:t.foreign_born_foreign}]}(_)})),i.a.createElement("div",{className:"card age"},i.a.createElement(D,{title:"Age",data:function(e){var t=e.properties;return[{name:"5 years or younger",value:t.age_less_5},{name:"6 yrs - 15 yrs",value:t.age_6_15},{name:"16 yrs - 64 yrs",value:t.age_16_64},{name:"65 yrs or older",value:t.age_64_over}]}(_),norm:!0}),i.a.createElement(T,{title:"",facts:[{name:"people under 5 years old",value:Math.floor(_.properties.age_less_5).toLocaleString()}]})),i.a.createElement("div",{className:"card english_proficency"},i.a.createElement(D,{title:"Limited English Proficency",data:function(e){var t=e.properties;return[{name:"English",value:t.english_english},{name:"Asian Languages",value:t.english_asian},{name:"Spanish",value:t.english_spanish},{name:"European Languages",value:t.english_european},{name:"Other",value:t.english_other}]}(_),norm:!0}),i.a.createElement(T,{title:"",facts:[{name:"% of people are bilingual",value:100*_.properties.bilingual/_.properties.english_total_households}]}))),"housing"===b&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card internet"},i.a.createElement(D,{title:"Internet Access",data:function(e){var t=e.properties,a=[{name:"No Internet",value:t.internet_no_access},{name:"Full Subscription",value:t.internet_subscription},{name:"Limited Subscription",value:t.internet_no_subscription}];return console.log(t),a}(_),norm:!0,style:{width:"500px"}}),i.a.createElement(T,{facts:[{name:"people have no internet access",value:Math.floor(_.properties.internet_no_access).toLocaleString()}]})),i.a.createElement("div",{className:"card housing"},i.a.createElement(D,{title:"Housing Tenure",data:function(e){var t=e.properties;return[{name:"Renters",value:t.own_vs_rent_rent},{name:"Owners",value:t.own_vs_rent_owner}]}(_)}))),"assets"===b&&i.a.createElement(i.a.Fragment,null,r&&r.length>0?r.map((function(e){return i.a.createElement(B,{title:e,key:e,assets:v.filter((function(t){return t.asset_type===e}))})})):i.a.createElement("div",{className:"asset-placeholder"},i.a.createElement("h2",null,"Turn on some Community Assets to view here")))))):i.a.createElement("div",{className:"placeholder"},i.a.createElement("h2",null,"Click ",E," for details"))}var M=a(238),z=a.n(M);function Y(e,t,a){var i=a.url,l=a.paintFill,r=a.paintLine,o=(a.sourceLayer,a.onClick),s=a.selection,c=a.visible,u=Object(n.useRef)(null),p=Object(n.useRef)(null),d=Object(n.useRef)(null),m="".concat(t,"_source"),y=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.current&&e.current.on("load",(function(){d.current=e.current.addSource(m,{type:"geojson",data:i}),l&&(u.current=e.current.addLayer({id:"".concat(t,"-fill"),type:"fill",source:m,paint:l,layout:{visibility:"visible"}})),r&&(p.current=e.current.addLayer({id:"".concat(t,"-line"),type:"line",source:m,paint:r,layout:{visibility:"visible"}})),e.current.on("click","".concat(t,"-fill"),(function(e){console.log(e.features[0]),o&&o(e.features[0])}))}))}),[e]),Object(n.useEffect)((function(){e.current&&s&&(y.current&&e.current.setFeatureState({source:m,id:y.current},{selected:!1}),e.current.setFeatureState({source:m,id:s.id},{selected:!0}),y.current=s.id)}),[s]),Object(n.useEffect)((function(){if(e.current){!function t(){e.current.loaded()?(e.current.setLayoutProperty("early_nrfu-fill","visibility",c?"visible":"none"),e.current.setLayoutProperty("early_nrfu-line","visibility",c?"visible":"none")):setTimeout(t,200)}()}}),[e,c]),Object(n.useEffect)((function(){if(e.current){!function a(){e.current.loaded()?e.current.setPaintProperty("".concat(t,"-fill"),"fill-color",l["fill-color"]):setTimeout(a,1e3)}()}}),[l]),{fillLayer:u,source:d}}var U={strategy:["match",["get","strategy_code"],0,"#C2A5CF",1,"#9970AB",2,"#A6DBA0",3,"#5AAE61","grey"],blackPop:["interpolate-lab",["linear"],["/",["get","race_black"],["get","race_total"]],0,"#FFFFFF",1,"#b93f22"],asianPop:["interpolate-lab",["linear"],["/",["get","race_asian"],["get","race_total"]],0,"#FFFFFF",1,"#8f1158"],latinxPop:["interpolate-lab",["linear"],["/",["get","race_hispanic"],["get","race_total"]],0,"#FFFFFF",1,"#cf0621"],whitePop:["interpolate-lab",["linear"],["/",["get","race_white"],["get","race_total"]],0,"#FFFFFF",1,"#faaf12"],otherPop:["interpolate-lab",["linear"],["/",["get","race_other"],["get","race_total"]],0,"#FFFFFF",1,"#00000"],noInternetPC:["interpolate-lab",["linear"],["/",["get","internet_no_access"],["get","internet_total"]],0,"#FFFFFF",1,"#faaf12"],englishProficency:["interpolate-lab",["linear"],["-",1,["/",["get","english_english"],["get","english_total_households"]]],0,"#FFFFFF",1,"#faaf12"],under5:["interpolate-lab",["linear"],["/",["get","age_less_5"],["get","age_total"]],0,"#FFFFFF",.1,"#faaf12"],returnCount:["step",["get","MRR2010"],"#b95356",60,"#ee5658",65,"#ecbaa8",70,"#f9bd53",73,["rgba",0,0,0,0]]},$={HTCLayer:{url:"".concat("/NYCCensusCountMap","/census_tracts.geojson"),paintFill:{"fill-color":"grey","fill-opacity":.7},paintLine:{"line-color":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],"red","white"],"line-width":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],3,1]}},EarlyNRFU:{url:"".concat("/NYCCensusCountMap","/boundaries/EarlyNRFULocations.geojson"),paintFill:{"fill-color":"blue","fill-opacity":.7}}};function H(){return[{id:"NOCCs",datasetName:"NOCCS",polygons:"noccs_with_vars.geojson",labels:"noccs_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/cpf4-rkhq?method=export&format=Shapefile",nameCol:"ntaname",nameAlt:"ntacode"},{id:"sd",datasetName:"School Districts",polygons:"school_districts_with_vars.geojson",labels:"school_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/r8nu-ymqj?method=export&format=Shapefile",nameCol:"district",nameAlt:"districtco"},{id:"police_precincts",datasetName:"Police Precincts",polygons:"police_precincts_with_vars.geojson",labels:"police_precincts_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile",nameCol:"geoid",nameAlt:null},{id:"cd",datasetName:"Community Districts",polygons:"community_districts_vars.geojson",labels:"communty_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yfnk-k7r4?method=export&format=Shapefile",nameCol:"boro_cd",nameAlt:null},{id:"cc",datasetName:"City Council Districts",polygons:"city_council_district_with_vars.geojson",labels:"city_council_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile",nameCol:"coun_dist",nameAlt:null},{id:"congress_districts",datasetName:"Congress Assembly Districts",polygons:"congress_assembly_with_vars.geojson",labels:"congress_assembly_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile",nameCol:"geoid",nameAlt:null},{id:"senate_districts",datasetName:"Senate Districts",polygons:"senate_districts_with_vars.geojson",labels:"senate_districts_with_vars.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile",nameCol:"st_sen_dist",nameAlt:null}].map((function(e){return Object(c.a)({},e,{paintLine:{"line-color":"black"}})}))}function K(e,t,a){var i=R(),l=i?i.features.reduce((function(e,t){return e.add(t.properties.asset_type),e}),new Set):[];return Object(n.useEffect)((function(){e.current&&i&&e.current.on("load",(function(){(function(e){return Promise.all(["Dot_Hospitals.png","Dot_FBO.png","Dot_CommunitySchools.png","Dot_LGBTQ.png","Dot_FoodKitchens.png","Dot_SeniorCenters.png","Dot_UniPreK.png","Dot_K12.png","Dot_CommunityCenters.png","Dot_MentalHealth.png","Dot_CBO.png","Dot_Libraries.png"].map((function(t){return new Promise((function(a,n){e.loadImage("".concat("/NYCCensusCountMap","/imgs/").concat(t),(function(n,i){e.addImage(t,i),a()}))}))})))})(e.current).then((function(){l.forEach((function(t){e.current.addLayer({id:"facilities: ".concat(t),type:"symbol",source:{type:"geojson",data:Object(c.a)({},i,{features:i.features.filter((function(e){return e.properties.asset_type===t}))})},layout:{"icon-image":["get","icon"],"icon-size":.02,"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-size":13,"text-anchor":"top",visibility:a.includes(t)?"visible":"none"},paint:{"text-color":"rgba(255,255,255,1)","text-halo-color":"rgba(10, 10, 10, 0.8)","text-halo-width":1,"text-halo-blur":0}})}))}))}))}),[e,i]),Object(n.useEffect)((function(){l.forEach((function(t){e.current.setLayoutProperty("facilities: ".concat(t),"visibility",a.includes(t)?"visible":"none")}))}),[a,e,l]),Object(n.useEffect)((function(){e.current&&e.current.loaded()&&(console.log("Toggling visible on facilities"),e.current.setLayoutProperty("facilities","visibility",t?"visible":"none"))}),[e,t]),i}var W=a(152);function q(){var e=Object(n.useRef)(null),t=Object(n.useState)("NOCCs"),a=Object(p.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),d=s[0],y=s[1],b=Object(n.useState)(null),g=Object(p.a)(b,2),v=g[0],E=g[1],_=Object(n.useState)([]),w=Object(p.a)(_,2),C=(w[0],w[1]),S=Object(n.useState)(!0),F=Object(p.a)(S,2),x=F[0],N=F[1],k=Object(n.useState)([]),O=Object(p.a)(k,2),L=O[0],P=O[1],D=Object(n.useState)("strategy"),T=Object(p.a)(D,2),B=T[0],A=T[1],R=Object(n.useState)(!0),M=Object(p.a)(R,2),q=M[0],G=M[1];Object(n.useEffect)((function(){W.a.initialize("UA-159011122-1"),W.a.pageview(window.location.pathname+window.location.search)}),[]),Object(n.useEffect)((function(){z.a.parse("/hard_to_count_NY.csv",{download:!0,header:!0,complete:function(e){C(e)}})}),[]);var Q=function(e,t){var a=t.lnglat,i=t.zoom,l=t.key,r=Object(n.useState)(!1),o=Object(p.a)(r,2);o[0],o[1],m.a.accessToken=l;var s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s.current=new m.a.Map({container:e.current,style:f,center:a,zoom:i}),s.current.addControl(new h.a({accessToken:m.a.accessToken,mapboxgl:m.a})),s.current.addControl(new m.a.ScaleControl,"top-right"),s.current.addControl(new m.a.NavigationControl),window.map=s}),[e]),s}(e,{lnglat:[-73.9920330193022,40.75078660435196],zoom:10,style:"mapbox://styles/mapbox/light-v10",key:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"}),J=Object(n.useRef)(null);Object(n.useEffect)((function(){E(null)}),[l]);var Z=Object(c.a)({},$.HTCLayer,{},{paintFill:{"fill-color":U[B],"fill-opacity":.7}}),X=(Y(Q,"HTC",Object(c.a)({},Z,{onClick:y,selection:d,visible:!0})),Y(Q,"early_nrfu",Object(c.a)({},$.EarlyNRFU,{visible:q})),function(e,t,a,i,l,r){var o=Object(n.useState)({}),s=Object(p.a)(o,2),u=s[0],d=s[1],m=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(e.current){var a={};e.current.on("load",(function(){H().forEach((function(n){var i="".concat(n.id,"_source"),l=Object(c.a)({},n);l.source=e.current.addSource(i,{type:"geojson",data:"".concat("/NYCCensusCountMap","/boundaries/").concat(n.polygons)}),l.sourceLabels=e.current.addSource(i+"_labels",{type:"geojson",data:"".concat("/NYCCensusCountMap","/boundaries/").concat(n.labels)}),l.fillLayer=e.current.addLayer({id:"".concat(n.id,"-fill"),type:"fill",source:i,paint:{"fill-color":"grey","fill-opacity":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],0,.3]},layout:{visibility:t==n.id?"visible":"none"}}),n.paintLine&&(l.lineLayer=e.current.addLayer({id:"".concat(n.id,"-line"),type:"line",source:i,paint:{"line-color":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],"red","black"]},layout:{visibility:t==n.id?"visible":"none"}})),l.labelLayer=e.current.addLayer({id:"".concat(n.id,"-labels"),type:"symbol",source:i+"_labels",layout:{visibility:t==n.id?"visible":"none","text-field":["get","geoid"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,0],"text-size":15,"text-anchor":"top","text-allow-overlap":!1}}),a[n.id]=l})),d(a)}))}}),[e]),Object(n.useEffect)((function(){if(e.current){!function a(){e.current.isStyleLoaded()?Object.entries(u).forEach((function(a){var n=Object(p.a)(a,2),i=n[0],l=n[1];e.current.setFeatureState({source:l.id+"_source",id:m.current},{selected:!1}),e.current.setLayoutProperty("".concat(l.id,"-line"),"visibility",i==t?"visible":"none"),e.current.setLayoutProperty("".concat(l.id,"-labels"),"visibility",i==t?"visible":"none"),e.current.setLayoutProperty("".concat(l.id,"-fill"),"visibility",i==t?"visible":"none")})):setTimeout(a,100)}()}}),[e,t]),Object(n.useEffect)((function(){var a="".concat(t,"_source");e.current&&l&&(m.current&&e.current.setFeatureState({source:a,id:m.current},{selected:!1}),e.current.setFeatureState({source:a,id:l},{selected:!0}),m.current=l)}),[l,t,e]),Object(n.useEffect)((function(){e.current&&H().forEach((function(t){e.current.on("click","".concat(t.id,"-fill"),(function(e){r&&r(e.features[0],t.id)}))}))}),[e]),u}(Q,l,0,0,v?v.id:null,(function(e){y(null),E(e)})));K(Q,x,L);return i.a.createElement("div",{className:"main-page"},i.a.createElement("div",{className:"map",ref:e}),i.a.createElement("div",{className:"info overlay"},i.a.createElement("h2",null,"NYC CENSUS 2020 INTERACTIVE MAP"),i.a.createElement("p",null,"This map is a tool to identify community-based assets, learn about historically undercounted communities, and visualize geographically relevant Census data for 2020 Census efforts."),i.a.createElement("p",null,'If you are creating an outreach strategy to get your neighborhood counted, this tool can help! For more information about the map and how to submit data for your neighborhood click on the "?" below.'),i.a.createElement("div",{ref:J})),i.a.createElement("div",{className:"details overlay"},i.a.createElement(I,{feature:v,tract:d,layer:l,facilityTypes:L})," "),i.a.createElement(j,{boundaries:X,selectedBoundary:l,onSelectBoundary:r,showFacilities:x,onShowFacilitiesChange:N,selectedFacilityTypes:L,onSelectFacilityType:function(e){var t=Object(u.a)(L);e.forEach((function(e){t=t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(u.a)(t),[e])})),P(t)},metric:B,onSelectMetric:A,showENRFU:q,onToggleENRFU:G}))}a(505);var G=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(o.a,{basename:"/NYCCensusCountMap"},i.a.createElement(s.a,{path:"/",component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[269,1,2]]]);
//# sourceMappingURL=main.3a1e2b69.chunk.js.map