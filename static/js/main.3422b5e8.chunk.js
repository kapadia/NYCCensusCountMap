(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{217:function(e){e.exports=JSON.parse('{"version":8,"name":"Basic","metadata":{"mapbox:autocomposite":false,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},"sources":{"openmaptiles":{"type":"vector","url":"https://api.maptiler.com/tiles/v3/tiles.json?key=6VgTRKggrduCs5zjHNiW"},"tracts":{"type":"vector","tiles":["http://localhost:8000/tile/{x}/{y}/{z}"],"minZoom":0,"maxZoom":14},"mapbox":{"type":"vector","tiles":["https://api.mapbox.com/v4/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2/{z}/{x}/{y}.vector.pbf?sku=101gd2kMk2Mmi&access_token=pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"],"minZoom":0,"maxZoom":14}},"glyphs":"https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=6VgTRKggrduCs5zjHNiW","layers":[{"id":"background","type":"background","paint":{"background-color":"hsl(47, 26%, 88%)"}},{"id":"landuse-residential","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["all",["==","$type","Polygon"],["in","class","residential","suburb","neighbourhood"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":0.7}},{"id":"landcover_grass","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","grass"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":0.45}},{"id":"landcover_wood","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","wood"],"paint":{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{"base":1,"stops":[[8,0.6],[22,1]]}}},{"id":"water","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)"}},{"id":"water_intermittent","type":"fill","source":"openmaptiles","source-layer":"water","filter":["all",["==","$type","Polygon"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(205, 56%, 73%)","fill-opacity":0.7}},{"id":"landcover-ice-shelf","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","ice_shelf"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.8}},{"id":"landcover-glacier","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","subclass","glacier"],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{"base":1,"stops":[[0,1],[8,0.5]]}}},{"id":"landcover_sand","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"landcover","filter":["all",["in","class","sand"]],"paint":{"fill-antialias":false,"fill-color":"rgba(232, 214, 38, 1)","fill-opacity":0.3}},{"id":"landuse","type":"fill","source":"openmaptiles","source-layer":"landuse","filter":["==","class","agriculture"],"layout":{"visibility":"visible"},"paint":{"fill-color":{"property":"pop","type":"interval","stops":[[{"zoom":6,"value":0},"#eae0d0"],[{"zoom":10,"value":0},"rgba(115, 91, 53, 1)"]]}}},{"id":"landuse_overlay_national_park","type":"fill","source":"openmaptiles","source-layer":"landcover","filter":["==","class","national_park"],"paint":{"fill-color":"#E1EBB0","fill-opacity":{"base":1,"stops":[[5,0],[9,0.75]]}}},{"id":"waterway-tunnel","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-dasharray":[3,3],"line-gap-width":{"stops":[[12,0],[20,6]]},"line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,2]]}}},{"id":"waterway","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["!=","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]}}},{"id":"waterway_intermittent","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"],["==","intermittent",1]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-opacity":1,"line-width":{"base":1.4,"stops":[[8,1],[20,8]]},"line-dasharray":[2,1]}},{"id":"tunnel_railway_transit","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":0,"filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","transit"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-dasharray":[3,3],"line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"building","type":"fill","source":"openmaptiles","source-layer":"building","paint":{"fill-antialias":true,"fill-color":"rgba(222, 211, 190, 1)","fill-opacity":{"base":1,"stops":[[13,0],[15,1]]},"fill-outline-color":{"stops":[[15,"rgba(212, 177, 146, 0)"],[16,"rgba(212, 177, 146, 0.5)"]]}}},{"id":"housenumber","type":"symbol","source":"openmaptiles","source-layer":"housenumber","minzoom":17,"filter":["==","$type","Point"],"layout":{"text-field":"{housenumber}","text-font":["Noto Sans Regular"],"text-size":10},"paint":{"text-color":"rgba(212, 177, 146, 1)"}},{"id":"road_area_pier","type":"fill","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["==","class","pier"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-antialias":true}},{"id":"road_pier","type":"line","metadata":{},"source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","pier"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(47, 26%, 88%)","line-width":{"base":1.2,"stops":[[15,1],[17,4]]}}},{"id":"road_bridge_area","type":"fill","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","Polygon"],["in","brunnel","bridge"]],"layout":{},"paint":{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.5}},{"id":"road_path","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","path","track"]],"layout":{"line-cap":"square","line-join":"bevel"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{"base":1.55,"stops":[[4,0.25],[20,10]]}}},{"id":"road_minor","type":"line","source":"openmaptiles","source-layer":"transportation","minzoom":13,"filter":["all",["==","$type","LineString"],["in","class","minor","service"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 97%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#efefef","line-dasharray":[0.36,0.18],"line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"tunnel_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#fff","line-dasharray":[0.28,0.14],"line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"aeroway-area","type":"fill","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],"layout":{"visibility":"visible"},"paint":{"fill-color":"rgba(255, 255, 255, 1)","fill-opacity":{"base":1,"stops":[[13,0],[14,1]]}}},{"id":"aeroway-taxiway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":12,"filter":["all",["in","class","taxiway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[12,1],[17,10]]}}},{"id":"aeroway-runway","type":"line","metadata":{"mapbox:group":"1444849345966.4436"},"source":"openmaptiles","source-layer":"aeroway","minzoom":4,"filter":["all",["in","class","runway"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round","visibility":"visible"},"paint":{"line-color":"rgba(255, 255, 255, 1)","line-opacity":1,"line-width":{"base":1.5,"stops":[[11,4],[17,50]]}}},{"id":"road_trunk_primary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","trunk","primary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"road_secondary_tertiary","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["in","class","secondary","tertiary"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,20]]}}},{"id":"road_major_motorway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","class","motorway"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 100%)","line-offset":0,"line-width":{"base":1.4,"stops":[[8,1],[16,10]]}}},{"id":"railway-transit","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","class","transit"],["!=","brunnel","tunnel"]],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"railway","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["==","class","rail"],"layout":{"visibility":"visible"},"paint":{"line-color":"hsl(34, 12%, 66%)","line-opacity":{"base":1,"stops":[[11,0],[16,1]]}}},{"id":"waterway-bridge-case","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#bbbbbb","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"waterway-bridge","type":"line","source":"openmaptiles","source-layer":"waterway","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(205, 56%, 73%)","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_minor case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_major case","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"butt","line-join":"miter"},"paint":{"line-color":"#dedede","line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]}}},{"id":"bridge_minor","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}}},{"id":"bridge_major","type":"line","source":"openmaptiles","source-layer":"transportation","filter":["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}}},{"id":"admin_sub","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["in","admin_level",4,6,8],"layout":{"visibility":"visible"},"paint":{"line-color":"hsla(0, 0%, 60%, 0.5)","line-dasharray":[2,1]}},{"id":"admin_country","type":"line","source":"openmaptiles","source-layer":"boundary","filter":["all",["<=","admin_level",2],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"hsl(0, 0%, 60%)","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}}},{"id":"poi_label","type":"symbol","source":"openmaptiles","source-layer":"poi","minzoom":14,"filter":["all",["==","$type","Point"],["==","rank",1]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"airport-label","type":"symbol","source":"openmaptiles","source-layer":"aerodrome_label","minzoom":10,"filter":["all",["has","iata"]],"layout":{"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":8,"text-offset":[0,0.5],"text-size":11,"visibility":"visible"},"paint":{"text-color":"#666","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1}},{"id":"road_major_label","type":"symbol","source":"openmaptiles","source-layer":"transportation_name","filter":["==","$type","LineString"],"layout":{"symbol-placement":"line","text-field":"{name:latin} {name:nonlatin}","text-font":["Noto Sans Regular"],"text-letter-spacing":0.1,"text-rotation-alignment":"map","text-size":{"base":1.4,"stops":[[10,8],[20,14]]},"text-transform":"uppercase"},"paint":{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_other","type":"symbol","source":"openmaptiles","source-layer":"place","minzoom":8,"filter":["all",["==","$type","Point"],["!in","class","city","state","country","continent"]],"layout":{"text-anchor":"center","text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":6,"text-size":{"stops":[[6,10],[12,14]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 25%)","text-halo-blur":0,"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{"id":"place_label_city","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":16,"filter":["all",["==","$type","Point"],["==","class","city"]],"layout":{"text-field":"{name:latin}\\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,16]]}},"paint":{"text-color":"hsl(0, 0%, 0%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-width":2}},{"id":"country_label-other","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"country_label","type":"symbol","source":"openmaptiles","source-layer":"place","maxzoom":12,"filter":["all",["==","$type","Point"],["==","class","country"],["has","iso_a2"]],"layout":{"text-field":"{name:latin}","text-font":["Noto Sans Bold"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,22]]},"visibility":"visible"},"paint":{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{"id":"tracts","type":"fill","source":"tracts","source-layer":"tracts","paint":{"fill-color":"rgba(52, 197, 94, 1)"}}],"id":"basic"}')},262:function(e,t,a){e.exports=a(473)},267:function(e,t,a){},469:function(e,t,a){},473:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(71),r=a.n(i),o=(a(267),a(232)),s=a(46),c=a(26),u=a(53),p=a(8),m=a(141),d=a.n(m),y=(a(268),a(217));var b=a(20),f=a(17);function h(){return l.a.createElement("section",{className:"contact-type"},l.a.createElement("ul",null,l.a.createElement("li",{className:"category-entry"},l.a.createElement(b.a,{icon:f.c,style:{color:"#C2A5CF"}})," ","Internet First, English"),l.a.createElement("li",{className:"category-entry"},l.a.createElement(b.a,{icon:f.c,style:{color:"#9970AB"}})," ","Internet First, Bilingual"),l.a.createElement("li",{className:"category-entry"},l.a.createElement(b.a,{icon:f.c,style:{color:"#A6DBA0"}})," ","Internet Choice, English"),l.a.createElement("li",{className:"category-entry"},l.a.createElement(b.a,{icon:f.c,style:{color:"#5AAE61"}})," ","Internet Choice, Bilingual")))}function g(e){e.name;var t=e.min,a=e.max,n=e.colStart,i=e.colEnd,r="linear-gradient(90deg, ".concat(n," 0%, ").concat(i," 100%)");return console.log("gradient is ",r),l.a.createElement("div",{className:"range-legend"},l.a.createElement("div",{className:"range-legend-bar",style:{background:r}}),l.a.createElement("div",{className:"range-legend-labels"},l.a.createElement("p",null,t)," ",l.a.createElement("p",null,a)))}var v=a(103),E=a.n(v);a(149);function _(e){var t=e.boundaries,a=e.selectedBoundary,n=e.onSelect,i=Object.entries(t).map((function(e){var t=Object(p.a)(e,2);return{value:t[0],label:t[1].datasetName}}));return l.a.createElement("section",{className:"boundary-selector"},l.a.createElement("h3",null,"Boundaries"),t&&l.a.createElement(E.a,{options:[{value:"tracts",label:"Census Tracts"}].concat(Object(u.a)(i)),onChange:function(e){return n(e.value)},value:a,placeholder:"Select a boundary"}))}function x(e){var t=e.title,a=e.options,i=e.selected,r=e.onSelect,o=Object(n.useState)(!1),s=Object(p.a)(o,2),c=s[0],u=s[1];return l.a.createElement("section",null,l.a.createElement("h2",{onClick:function(){return u(!c)}},l.a.createElement(b.a,{icon:c?f.a:f.b})," ",t),c&&l.a.createElement("ul",null,a.map((function(e){return l.a.createElement("li",{className:"facilities-option"},l.a.createElement("input",{type:"checkbox",checked:i.includes(e),onChange:function(){return r(e)}}),e)}))))}function w(e){var t=e.selected,a=e.onSelected,i=Object(n.useState)({"Education Assets":!1}),r=Object(p.a)(i,2);r[0],r[1];return l.a.createElement("div",{className:"facilities-selector"},l.a.createElement("h3",null,"Community Assets"),[{title:"Educational Assets",options:["Head Start and Early Head Start","Universal Pre-K","K-12 (NYC Public Schools)","Community Schools","Public Libraries"]},{title:"Services and Programs",options:["Shelters","Food Kitchens and Pantries","Senior Centers","Mental Health Services","Hospitals and Rehab Centers","LGBTQ Centers and Services","NYCHA Developments"]},{title:"Neighborhood Institutions",options:["Community-Based Organizations","Faith-Based Organizations","Community Centers and YMCA's"]}].map((function(e){return l.a.createElement(x,{title:e.title,options:e.options,selected:t,onSelect:function(e){return a(e)}})})))}function j(){return l.a.createElement("div",{className:"help-tab"},l.a.createElement("section",null,l.a.createElement("h2",null,"Help"),l.a.createElement("h3",null,"About"),l.a.createElement("p",null,"Bacon ipsum dolor amet ground round pancetta doner bresaola frankfurter sirloin ham pork chop fatback chislic flank tri-tip turducken. Frankfurter shankle turkey, flank pancetta andouille tongue pork belly ball tip. Rump leberkas short ribs jowl frankfurter porchetta t-bone flank meatloaf sausage pork. Pastrami shankle bresaola, venison tenderloin cupim tri-tip turkey short ribs biltong beef ribs andouille jerky kevin. Shankle chicken venison sausage alcatra kielbasa chuck ground round chislic turducken pork loin.")),l.a.createElement("section",null,l.a.createElement("h3",null,"How to read this map"),l.a.createElement("p",null,"Bacon ipsum dolor amet ribeye strip steak porchetta doner, sirloin biltong t-bone ground round. Boudin kevin meatloaf ham. Flank kielbasa hamburger corned beef. Capicola kevin short ribs, jerky venison meatball flank sausage meatloaf.")))}function S(e){var t=e.selectedBoundary,a=e.boundaries,i=e.onSelectBoundary,r=(e.showFacilities,e.onShowFacilitiesChange,e.onSelectMetric),o=e.metric,s=e.selectedFacilityTypes,c=e.onSelectFacilityType,u=Object(n.useState)("layers"),m=Object(p.a)(u,2),d=m[0],y=m[1];return console.log("Tab is ",d),l.a.createElement("div",{className:"Legend overlay"},l.a.createElement("div",{className:"tabs"},l.a.createElement("div",{className:"layers"===d?"selected":"",onClick:function(){return y("layers")}},l.a.createElement(b.a,{icon:f.e})),l.a.createElement("div",{className:"legend"===d?"selected":"",onClick:function(){return y("legend")}},l.a.createElement(b.a,{icon:f.f})),l.a.createElement("div",{className:"info"===d?"selected":"",onClick:function(){return y("info")}},l.a.createElement(b.a,{icon:f.d})),l.a.createElement("div",{className:"questions"===d?"selected":"",onClick:function(){return y("questions")}},l.a.createElement(b.a,{icon:f.g}))),l.a.createElement("div",{className:"content"},"layers"===d&&l.a.createElement("section",{className:"thematic-layer"},l.a.createElement("h3",null,"Metric"),l.a.createElement(E.a,{options:[{value:"strategy",label:"Mail Strategy"},{value:"returnCount",label:"2020 Mail Return Rate"}],onChange:function(e){return r(e.value)},value:o,placeholder:"Select a metric"}),"strategy"==o?l.a.createElement(h,null):l.a.createElement(g,{name:"2020 Mail Return %",min:0,max:100,colStart:"#309dae",colEnd:"#ebf7f9"}),l.a.createElement(_,{selectedBoundary:t,onSelect:i,boundaries:a}),l.a.createElement(w,{selected:s,onSelected:c})),"questions"===d&&l.a.createElement(j,null)))}a(472);var C=["#000000","#cf0621","#8f1158","#b93f22","#faaf12"].reverse(),k=a(107),N=function(e){var t=e.cx,a=e.cy,n=e.midAngle,i=e.innerRadius,r=e.outerRadius,o=e.percent,s=(e.index,i+.5*(r-i)),c=t+s*Math.cos(-n*O),u=a+s*Math.sin(-n*O);return o<.04?"":l.a.createElement("text",{x:c,y:u,fill:"white",textAnchor:c>t?"start":"end",dominantBaseline:"central"},"".concat((100*o).toFixed(0),"%"))},O=Math.PI/180;function L(e){var t=e.data,a=e.title,n=t.map((function(e,t){return Object(c.a)({},e,{color:C[t%5]})}));return l.a.createElement("div",{className:"pie-card"},l.a.createElement("h2",null,a),l.a.createElement("div",{className:"pie-card-content"},l.a.createElement(k.c,{width:140,height:140,data:n},l.a.createElement(k.b,{data:n,cx:60,cy:70,labelLine:!1,label:N,outerRadius:60,fill:"#8884d8"},n.map((function(e,t){return l.a.createElement(k.a,{fill:e.color})})))),l.a.createElement("ul",{className:"labels"},n.map((function(e,t){return l.a.createElement("li",{className:"label"},l.a.createElement("span",{className:"bar",style:{backgroundColor:C[t]}}),l.a.createElement("span",{className:"label-text"},e.name))})))))}function B(e){var t=e.assets,a=e.title;return l.a.createElement("div",{className:"asset-card"},l.a.createElement("h2",null,l.a.createElement("img",{src:"".concat("/NYCCensusCountMap","/imgs/").concat({"Hospitals and Rehab Centers":"Dot_Hospitals.png","Faith-Based Organizations":"Dot_FBO.png","City Wide Community Schools":"Dot_CommunitySchools.png","LGBTQ Centers and Services":"Dot_LGBTQ.png","Food Kitchens and Pantries":"Dot_FoodKitchens.png","Senior Centers":"Dot_SeniorCenters.png","Universal Pre-K":"Dot_UniPreK.png","K-12 (NYC Public Schools)":"Dot_K12.png","Community Schools":"Dot_CommunityCenters.png","Mental Health Services":"Dot_MentalHealth.png","Community-Based Organizations":"Dot_CBO.png","Public Libraries":"Dot_Libraries.png"}[a])}),a),l.a.createElement("ul",null,t.map((function(e){return l.a.createElement("li",{className:"asset"},l.a.createElement("h3",null,e.name),l.a.createElement("p",null,[e.address,e.boro,e.city,e.zipcode].join(",")))}))))}function D(e){var t=e.selected,a=e.onSelect,n=function(e){return e===t?"selected":""};return l.a.createElement("div",{className:"details-selector"},l.a.createElement("ul",null,l.a.createElement("li",{onClick:function(){return a("barriers")},className:n("barriers")},"Barriers"),l.a.createElement("li",{onClick:function(){return a("demographics")},className:n("demographics")},"Demographics"),l.a.createElement("li",{onClick:function(){return a("census2020")},className:n("census2020")},"Census 2020 info"),l.a.createElement("li",{onClick:function(){return a("assets")},className:n("assets")},"Assets")))}function z(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("".concat("/NYCCensusCountMap","/facilities.geojson")).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),a}function F(e){var t=e.feature,a=(e.onSelectFacility,e.layer),i=e.facilityTypes,r=Object(n.useState)(!1),o=Object(p.a)(r,2),s=(o[0],o[1],Object(n.useState)("barriers")),c=Object(p.a)(s,2),u=c[0],m=c[1],d=function(e,t,a){var l=z(),i={cd:"community_district_id",tracts:"census_tract_id",cc:"city_council_district_id",sd:"school_district_id",nta:"nta_id"};return Object(n.useMemo)((function(){return e?l.features.filter((function(a){return a.properties[i[t]]==e})).filter((function(e){return!(a&&a.length>0)||a.includes(e.properties.asset_type)})).map((function(e){return e.properties})):[]}),[e,l,t,a])}(t?t.properties.geoid:null,a,i),y={tracts:"Census Tract",cd:"Community District",sd:"School District",cc:"City Council District",nat:"Neighborhood Tablulation Area"}[a];console.log("layer:  ",a," feature name  ",y);return l.a.createElement("div",{className:"feature"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"overview"},l.a.createElement("h2",null,y,":"," ","tracts"===a?t.properties.GEOID:t.properties.geoid),l.a.createElement("p",null,"Population:"," ",l.a.createElement("span",{style:{color:"red"}},t.properties.total_population)),l.a.createElement("p",null,"Mail return rate 2010:"," ",l.a.createElement("span",{style:{color:"red"}},t.properties.MRR2010,"%")),l.a.createElement("p",null,"Inital Contact Strategy:",l.a.createElement("span",{style:{color:"red"}},function(e){switch(e.strategy_code){case 0:return"Internet First, English";case 1:return"Internet First, Bilingual";case 2:return"Internet Choice, English";case 3:return"Internet Choice, Bilingual"}}(t.properties)))),l.a.createElement("div",{className:"selector-cards"},l.a.createElement(D,{selected:u,onSelect:function(e){return m(e)}}),l.a.createElement("div",{className:"cards"},"barriers"==u&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card internet"},l.a.createElement(L,{title:"Internet Access",data:function(e){var t=e.properties,a=[{name:"No Internet",value:t.internet_no_access},{name:"Full Subscription",value:t.internet_subscription},{name:"Limited Subscription",value:t.internet_no_subscription}];return console.log(t),a}(t),norm:!0,style:{width:"500px"}})),l.a.createElement("div",{className:"card english_proficency"},l.a.createElement(L,{title:"English Proficency",data:function(e){var t=e.properties;return[{name:"English",value:t.english_english},{name:"Asian Languages",value:t.english_asian},{name:"Spanish",value:t.english_spanish},{name:"European Languages",value:t.english_european},{name:"Other",value:t.english_other}]}(t),norm:!0})),l.a.createElement("div",{className:"card age"},l.a.createElement(L,{title:"Age",data:function(e){var t=e.properties;return[{name:"5 years or younger",value:t.age_less_5},{name:"6 yrs - 15 yrs",value:t.age_6_15},{name:"16 yrs - 64 yrs",value:t.age_16_64},{name:"65 yrs or older",value:t.age_64_over}]}(t),norm:!0}))),"demographics"===u&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card demographics"},l.a.createElement(L,{title:"Demographics",data:function(e){return[{name:"white",value:e.properties.race_white/e.properties.race_total},{name:"black",value:e.properties.race_black/e.properties.race_total},{name:"asian",value:e.properties.race_asian/e.properties.race_total},{name:"latinx",value:e.properties.race_hispanic/e.properties.race_total},{name:"other",value:e.properties.race_other/e.properties.race_total}]}(t)})),l.a.createElement("div",{className:"card foreign"},l.a.createElement(L,{title:"Foreign Born",data:function(e){var t=e.properties;return[{name:"Native Born",value:t.foreign_born_native},{name:"Foreign Born",value:t.foreign_born_foreign}]}(t)})),l.a.createElement("div",{className:"card housing"},l.a.createElement(L,{title:"Renting",data:function(e){var t=e.properties;return[{name:"Reting",value:t.own_vs_rent_rent},{name:"Owned",value:t.own_vs_rent_owner}]}(t)}))),"assets"===u&&l.a.createElement(l.a.Fragment,null,i.map((function(e){return l.a.createElement(B,{title:e,assets:d.filter((function(t){return t.asset_type===e}))})})))))):l.a.createElement("div",{className:"placeholder"},l.a.createElement("h2",null,"Click ",y," for details")))}var P=a(231),R=a.n(P);var A={strategy:["match",["get","strategy_code"],0,"#C2A5CF",1,"#9970AB",2,"#A6DBA0",3,"#5AAE61","grey"],returnCount:["interpolate",["linear"],["get","MRR2010"],0,"#309dae",100,"#ebf7f9"]},M={HTCLayer:{url:"".concat("/NYCCensusCountMap","/census_tracts.geojson"),paintFill:{"fill-color":"grey","fill-opacity":.7},paintLine:{"line-color":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],"red","white"],"line-width":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],3,1]}}};function $(){return[{id:"cd",datasetName:"Community Districts",polygons:"community_districts_vars.geojson",labels:"communty_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yfnk-k7r4?method=export&format=Shapefile",nameCol:"boro_cd",nameAlt:null},{id:"sd",datasetName:"School Districts",polygons:"school_districts_with_vars.geojson",labels:"school_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/r8nu-ymqj?method=export&format=Shapefile",nameCol:"district",nameAlt:"districtco"},{id:"cc",datasetName:"City Council Districts",polygons:"city_council_district_with_vars.geojson",labels:"city_council_district_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile",nameCol:"coun_dist",nameAlt:null},{id:"nta",datasetName:"Neighborhood Tabulation Area",polygons:"ntas_with_vars.geojson",labels:"nta_labels.geojson",url:"http://data.cityofnewyork.us/api/geospatial/cpf4-rkhq?method=export&format=Shapefile",nameCol:"ntaname",nameAlt:"ntacode"}].map((function(e){return Object(c.a)({},e,{paintLine:{"line-color":"black"}})}))}function T(e,t,a,l,i){var r=z();return Object(n.useEffect)((function(){e.current&&r&&e.current.on("load",(function(){(function(e){return Promise.all(["Dot_Hospitals.png","Dot_FBO.png","Dot_CommunitySchools.png","Dot_LGBTQ.png","Dot_FoodKitchens.png","Dot_SeniorCenters.png","Dot_UniPreK.png","Dot_K12.png","Dot_CommunityCenters.png","Dot_MentalHealth.png","Dot_CBO.png","Dot_Libraries.png"].map((function(t){return new Promise((function(a,n){e.loadImage("".concat("/NYCCensusCountMap","/imgs/").concat(t),(function(n,l){e.addImage(t,l),a()}))}))})))})(e.current).then((function(){e.current.addLayer({id:"facilities",type:"symbol",source:{type:"geojson",data:r},layout:{"icon-image":["get","icon"],"icon-size":.02,"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-size":10,"text-anchor":"top",visibility:t?"visible":"none"},paint:{"text-color":"rgba(255,255,255,1)"}})}))}))}),[e,r]),Object(n.useEffect)((function(){e.current&&e.current.loaded()&&(console.log("Toggling visible on facilities"),e.current.setLayoutProperty("facilities","visibility",t?"visible":"none"))}),[e,t]),r}function I(){var e=Object(n.useRef)(null),t=Object(n.useState)("cd"),a=Object(p.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),m=s[0],b=s[1],f=Object(n.useState)([]),h=Object(p.a)(f,2),g=(h[0],h[1]),v=Object(n.useState)(!0),E=Object(p.a)(v,2),_=E[0],x=E[1],w=Object(n.useState)([]),j=Object(p.a)(w,2),C=j[0],k=j[1],N=Object(n.useState)("strategy"),O=Object(p.a)(N,2),L=O[0],B=O[1];Object(n.useEffect)((function(){R.a.parse("/hard_to_count_NY.csv",{download:!0,header:!0,complete:function(e){g(e)}})}),[]);var D=function(e,t){var a=t.lnglat,l=t.zoom,i=t.key;d.a.accessToken=i;var r=Object(n.useRef)(null);return Object(n.useEffect)((function(){r.current=new d.a.Map({container:e.current,style:y,center:a,zoom:l})}),[e]),r}(e,{lnglat:[-73.9920330193022,40.75078660435196],zoom:10,style:"mapbox://styles/mapbox/light-v10",key:"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw"});Object(n.useEffect)((function(){b(null)}),[i]);var z=Object(c.a)({},M.HTCLayer,{},{paintFill:{"fill-color":A[L],"fill-opacity":.7}}),P=(function(e,t,a){var l=a.url,i=a.paintFill,r=a.paintLine,o=(a.sourceLayer,a.onClick),s=a.selection,c=(a.visible,Object(n.useRef)(null)),u=Object(n.useRef)(null),p=Object(n.useRef)(null),m="".concat(t,"_source"),d=Object(n.useRef)(null);Object(n.useEffect)((function(){e.current&&e.current.on("load",(function(){p.current=e.current.addSource(m,{type:"geojson",data:l}),i&&(c.current=e.current.addLayer({id:"".concat(t,"-fill"),type:"fill",source:m,paint:i,layout:{visibility:"visible"}})),r&&(u.current=e.current.addLayer({id:"".concat(t,"-line"),type:"line",source:m,paint:r,layout:{visibility:"visible"}})),e.current.on("click","".concat(t,"-fill"),(function(e){console.log(e.features[0]),o&&o(e.features[0])}))}))}),[e]),Object(n.useEffect)((function(){e.current&&s&&(d.current&&e.current.setFeatureState({source:m,id:d.current},{selected:!1}),e.current.setFeatureState({source:m,id:s.id},{selected:!0}),d.current=s.id)}),[s]),Object(n.useEffect)((function(){e.current&&e.current.loaded()&&(console.log("setting fill color to be ",i["fill-color"],i),e.current.setPaintProperty("".concat(t,"-fill"),"fill-color",i["fill-color"]))}),[i])}(D,"HTC",Object(c.a)({},z,{onClick:function(e){"tracts"===i&&b(e)},selection:m,visible:"tracts"===i})),function(e,t,a,l,i,r){var o=Object(n.useState)({}),s=Object(p.a)(o,2),u=s[0],m=s[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(e.current){var a={};e.current.on("load",(function(){$().forEach((function(n){var l="".concat(n.id,"_source"),i=Object(c.a)({},n);i.source=e.current.addSource(l,{type:"geojson",data:"".concat("/NYCCensusCountMap","/boundaries/").concat(n.polygons)}),i.sourceLabels=e.current.addSource(l+"_labels",{type:"geojson",data:"".concat("/NYCCensusCountMap","/boundaries/").concat(n.labels)}),i.fillLayer=e.current.addLayer({id:"".concat(n.id,"-fill"),type:"fill",source:l,paint:{"fill-color":"grey","fill-opacity":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],0,.7]},layout:{visibility:t==n.id?"visible":"none"}}),n.paintLine&&(i.lineLayer=e.current.addLayer({id:"".concat(n.id,"-line"),type:"line",source:l,paint:{"line-color":["case",["boolean",["coalesce",["feature-state","selected"],!1],!0],"red","black"]},layout:{visibility:t==n.id?"visible":"none"}})),i.labelLayer=e.current.addLayer({id:"".concat(n.id,"-labels"),type:"symbol",source:l+"_labels",layout:{visibility:t==n.id?"visible":"none","text-field":["get","geoid"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,0],"text-size":15,"text-anchor":"top","text-allow-overlap":!0}}),a[n.id]=i})),m(a)}))}}),[e]),Object(n.useEffect)((function(){e.current&&Object.entries(u).forEach((function(a){var n=Object(p.a)(a,2),l=n[0],i=n[1];e.current.setLayoutProperty("".concat(i.id,"-line"),"visibility",l==t?"visible":"none"),e.current.setLayoutProperty("".concat(i.id,"-labels"),"visibility",l==t?"visible":"none"),e.current.setLayoutProperty("".concat(i.id,"-fill"),"visibility",l==t?"visible":"none")}))}),[e,t]),Object(n.useEffect)((function(){var a="".concat(t,"_source");e.current&&i&&(d.current&&e.current.setFeatureState({source:a,id:d.current},{selected:!1}),e.current.setFeatureState({source:a,id:i},{selected:!0}),d.current=i)}),[i,t,e]),Object(n.useEffect)((function(){e.current&&$().forEach((function(t){e.current.on("click","".concat(t.id,"-fill"),(function(e){r&&r(e.features[0],t.id)}))}))}),[e]),u}(D,i,0,0,m?m.id:null,(function(e){return b(e)})));T(D,_);return l.a.createElement("div",{className:"main-page"},l.a.createElement("div",{className:"map",ref:e}),l.a.createElement("div",{className:"info overlay"},l.a.createElement("h2",null,"NYC CENSUS 2020 INTERACTIVE MAP"),l.a.createElement("h3",null,"Created by Stuart Lynn: Hosted/designed Hester Street"),l.a.createElement("p",null,"This interactive map serves the purpose for any organization to learn more about the people they serve. This map is fully interactive and will remain avaliable after the Census effort")),l.a.createElement("div",{className:"details overlay"},l.a.createElement(F,{feature:m,layer:i,facilityTypes:C})," "),l.a.createElement(S,{boundaries:P,selectedBoundary:i,onSelectBoundary:r,showFacilities:_,onShowFacilitiesChange:x,selectedFacilityTypes:C,onSelectFacilityType:function(e){C.includes(e)?k(C.filter((function(t){return t!==e}))):k([].concat(Object(u.a)(C),[e]))},metric:L,onSelectMetric:B}))}a(469);var H=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(o.a,{basename:"/NYCCensusCountMap"},l.a.createElement(s.a,{path:"/",component:I})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[262,1,2]]]);
//# sourceMappingURL=main.3422b5e8.chunk.js.map